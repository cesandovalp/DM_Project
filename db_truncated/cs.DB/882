socio spatial group queri impromptu activ plan chih shen nian yang senior member ieee liang hao huang wang chien lee member ieee ming syan chen fellow ieee abstract develop integr social network servic smartphon easi individu organ impromptu social activ anytim main challeng aris organ impromptu activ requir make time invit potenti activ locat correspond locat relationship candid attende combin candid attende activ locat creat larg solut space paper propos multipl ralli point social spatial group queri mrgq select appropri activ locat group nearbi attende tight social relationship consid special case mrgq socio spatial group queri ssgq determin set social acquaint attende minim total spatial distanc specif activ locat prove ssgq hard formul integ linear program optim model ssgq develop effici algorithm call ssgs employ effect prune techniqu reduc run time determin optim solut propos heurist algorithm ssgq effici produc good solut consid general mrgq mrgq hard number attende practic procedur qref return qref push ball child node leaf push mbr child node leaf prune mark remov prune lemma aldp prune mark remov prune lemma itdp prune mark remov prune lemma otdp satisfi prune minimum mindist mindist ball pop mbr pop node leaf qref list apdoanddistprun procedur apdoanddistprun procedur break argminqi minqi apdo findgroupandloc break prune mark prune mark prune distanc satisfi break satisfi prune familiar order spatial socio condit satisfi break unvisit vertic remain mark increas visit mark ball prune descend prune balltre node leaf set apdoanddistprun qref vertex unvisit inqi insr insi inqi insr insi apdo findgroupandloc procedur answer output output apdo findgroupandloc locat activ correspond group optim ensur root balltre index locat activ root tree index locat user radius spatial constraint familiar locat activ attende number locat graph requir apdo algorithm mag algorithm procedur break argminqi minqi qref sfgp findgroupandloc break prune distanc satisfi break satisfi prune 