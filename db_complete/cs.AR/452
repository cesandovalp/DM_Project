automat nest loop acceler fpgas soft cgra overlay cheng liu cheung hayden kwok hay depart electr electron engin univers hong kong email liucheng hcng hso abstract offload comput intens nest loop execut fpga acceler demonstr numer research effect perform enhanc techniqu numer applic domain construct accel ator high design product research increas turn overlay architectur intermedi generat target built top shelf fpgas achiev desir perform overhead trade remain major product challeng complex applic specif custom larg design space cover multipl architectur paramet need work automat nest loop acceler framework util regular soft coars grain reconfigur array gra overlay present high level resourc constraint framework automat custom overlay architectur design paramet high level compil option well communic acceler host processor optim perform applic experi cost minut addit tool time propos custom process time addit speedup baselin acceler generat framework custom compar equival softwar run host arm processor zedboard acceler achiev time speedup introduct offload comput intens nest loop fpga celer demonstr research effect solut perform enhanc applic domain low product develop fpga base comput applic remain major obstacl hinder widespread ployment fpgas address challeng number research turn virtual fpga overlay architectur built top physic fpga configur fabric help improv design product fast compil good design portabl debug support despit great advantag design product addit layer top physic fpga inevit introduc perform resourc consumpt penalti overlay ensur fpga acceler perform remain competit map loop kernel overlay base fpga acceler will capabl custom overlay applic domain applic essenti overlay base fpga acceler design navig labyrinth architec tural compil paramet fine tune perform slow trivial process requir user manual explor vast design space counteract product benefit util overlay place develop hous soft coars grain reconfigur array scgra overlay base nest loop acceler framework target hybrid cpu fpga system call quickdough allow rapid compil loop fpga librari pre built overlay bitstream work focus automat cus tomiz overlay architectur paramet exploit loop unrol hardwar softwar communic combi nation buffer size applic high level resourc constraint advantag regular scgra overlay multitud design metric perform hardwar consump tion accur estim analyt model overlay schedul result overlay schedul depend design paramet custom framework dramat simplifi effici applic specif custom rapid compil propos design framework ensur high design product high perform fpga loop acceler experi framework minut complet loop acceler custom propos step approach time faster exhaust search design space custom acceler perform time faster correspond baselin acceler custom compar perform benchmark execut host arm processor fpga acceler achiev speedup work overlay architectur virtual intermedi archi tectur overlaid top shelf fpga increas appli address product challeng overlay divers configur granular flexibl rang virtual fpgas array fus soft cgra soft gpu vector processor configur processor multi copyright held author owner internationalworkshop fpgas softwar programm fsp london unit kingdom septemb core processor develop year scgra overlay uniqu advantag compromis hardwar implement perform comput intens nest loop demon strate numer asic cgras impor tant allow rapid compil advantag overlay tile structur effici bitstream reus design iter applic promis high product nest loop acceler addit custom cgra applic domain applic promis formanc improv save hardwar resourc time demonstr cgra work target asic design cgra custom asic limit tape cost cgra overlay allow intens architectur custom provid hardwar target applic applic domain inher programm cool stitt propos provid overlay limit flexibl full configur group design custom area overhead reduc author develop scgra topolog custom method genet algo rithm potenti benefit scgra overlay custom rest system design paramet cover author formal loop acceler regular process array overlay fpga focus hardwar resourc constrain bandwidth constrain loop parallel partit process architectur design paramet includ order achiev high design product high perform low overhead complet nest loop acceler framework target cpu fpga system develop work support intens applic specif custom includ overlay architectur cus tomiz compil custom communic interfac custom optim perform iii nest loop acceler design framework regular scgra overlay built top phys ical fpga devic develop automat nest loop acceler framework call quickdough quickdough target hybrid cpu fpga comput system fpga devot acceler comput intens loop kernel cpu handl rest applic figur depict overview design framework highlight compl mentari acceler generat acceler custom path design step acceler generat path short essenti rapid design iter col lectiv generat fpga loop acceler make pre built bitstream librari order second focus paper acceler custom path slow accel driver softwar compil scgra compil scgra base accel templat accel bitstream applic binari code design constraint softwar compil accel generat accel custom accel compil option comput intens loop kernel accel customiz ation high level applic cpu fpga accel pre built accel librari accel impl fig automat nest loop acceler framework improv perform acceler applic basi step automat tune design paramet includ overlay architectur paramet compil option well communic fpga acceler host processor user applic user constraint hardwar resourc budget custom design paramet hdl model correspond scgra overlay associ driver generat driver will softwar compil fpga acceler will implement store acceler librari reus fast acceler generat path subsequ compil scgra base fpga acceler figur design typic scgra overlay base fpga acceler acceler chip memori ibuf obuf buffer communic data host cpu acceler control present hardwar control oper acceler well memori transfer scgra kernel comput fabric consist array pes achiev comput task distribut control store addrbuf store valid buffer access address comput current implement templat present figur heart alu support multi port data memori instruct memori data memori store intermedi data comput instruct memori store control determin action addit global signal accctrl block control start pes array loop execut fpga acceler figur illustr loop execut fpga acceler data flow graph dfg extract loop schedul scgra overlay base fpga acceler depend loop unrol transform dfg dfg execut repeat origin loop addit data transfer multipl execut dfg batch group figur fpga acceler instruct mem data mem aluload store bypass addrctrlstart cpu main memori system interconnect oaddrbuf scgra iaddrbuf accctrl ibuf obuf low freq high freq fig scgra overlay base fpga acceler loop kernel origin code group size to_fpga group_execut to_main_mem loop kernel unrol factor dfg_execut group dfg fig loop group dfg loop will divid group group will partial unrol unrol will translat dfg transmiss fpga host cpu perform granular group hand techniqu reduc number batch help amort initi communic cost hand larger chip memori overhead propos custom framework design choic achiev optim design scgra overlay compil pre built scgra overlay librari custom overlay configur correspond fpga acceler generat rapid basi high product loop acceler design framework figur present detail scgra overlay compil loop unrol group factor dfg generat schedul scgra overlay acceler schedul control extract integr pre built fpga acceler bitstream creat final fpga loop acceler bitstream compil process typic complet second control oper schedul pre built scgra librari dfg group loop unrol dfg group accel bitstream pre built bmm bitstrem integr comput kernel custom scgra design custom scgra design fig rapid scgra overlay compil illustr earli applic develop phase scgra overlay base fpga acceler custom applic specif custom uniqu oppor tuniti reduc resourc consumpt improv formanc acceler system black box exhaust search configur ineffici slow work advantag regular scgra overlay base fpga acceler reduc complex custom problem simpler design space explor dse simplifi search problem custom optim applic specif nest loop acceler produc effici custom problem formul will formal custom problem nest loop acceler scgra overlay base fpga acceler design constraint includ energi consumpt hardwar resourc consumpt hardwar resourc consumpt exampl tabl design paramet nest loop acceler design paramet denot nest loop compil loop unrol factor group factor overlay configur scgra topolog torus fix scgra size data width data mem input buffer output buffer instruct mem input address buffer output address buffer oper set fix implement frequenc fix pipelin depth fix suppos repres nest loop acceler design space repres configur design space includ number design paramet list tabl assum loop accel ate nest level loop count denot paramet customiz propos design framework clear identifi fix stand fpga resourc bram dsp lut target fpga resconsumpt denot type fpga resourc consumpt stand amount input output group stand amount input output dfg dfgcomputim repres number cycl need complet dfg comput constant coeffici depend target platform denot custom problem target minimum time formul minim runtim computim commutim subject resconsumpt dfgcomputim runtim repres number cycl need comput loop cpu fpga system consist time consum comput fpga communic fpga host cpu calcul equat unrol loop will translat dfg schedul scgra overlay dfg comput time essenti function denot dfgcomputim nest loop comput repeat dfg execut nest loop comput calcul equat computim dfgcomputim dma typic bulk data transmiss communic cost data model piecewis linear function dma latenc calcul dma repres amount dma transmiss communic time nest loop calcul equat commutim dma dma hardwar resourc fpga includ dsp lut bram block ram lut dsp consumpt rough estim linear function scgra size calcul equat bram consump tion resconsumpt lut dsp consumpt calcul precis base memori block configur resconsumpt oper schedul loop unrol factor accept scgra size nest loop comput time search perform feasibl design space optim design paramet analyt system model dse custom add feasibl design space dse init fig system custom framework custom framework figur illustr overview custom frame work rough divid part dse target loop execut time perform feasibl design space loop execut time determin oper schedul simpli depend loop unrol factor scgra size dse simpler compar system dse includ design paramet second configur feasibl design space will evalu simul base method analyt model employ estim acceler metric perform hardwar resourc consumpt analyt model accur regular scgra overlay feasibl design space larg fast evalu config urat evalu process custom best perform trivial custom design paramet suppos denot feasibl design space indic percentag perform benefit increas loop unrol scgra size user defin threshold small prune configur inappropri configur satisfi equat equat computim computim computim consecut unrol factor computim computim computim feasibl configur schedul correspond schedul result dfg dfg dfg unrol factor fig design paramet typic monoton influenc loop comput time comput time benefit degrad increas design paramet scgra size scgra topolog torus dfg dfg dfg dfgs extract matrix matrix multipl fir kmean unrol factor loop tap fir input consequ comput time loop kernel minimum instruct memori depth well evalu perform feasibl configur model built previous optim configur simpl search addit seri experi zedboard figur demonstr scgra size unrol factor clear monoton influenc loop comput time perform benefit loop unrol increas scgra size drop gradual observ help simplifi dse simpl branch bound algorithm experi experi measur time need cus tomiz loop acceler compar perform acceler hard arm processor experi setup custom runtim comput intel core cpu ram zedboard arm processor fpga comput system planahead scgra overlay base design custom overlay implement zedboard perform custom set resourc zedboard set resourc constraint softwar runtim arm processor zedboard work applic includ trix multipl fir kmean sobel edg detector benchmark configur benchmark detail tabl custom time figur custom time propos step custom exhaust search base custom typic complet custom minut minut faster averag extrem slow three level loop larg loop count larger design space tabl benchmark configur benchmark paramet loop structur matrix size fir input tap vertic pixel horizont pixel node centroid dimens fir speedup fig benchmark custom time tabl iii acceler configur base fir base base base longer time complet custom skip unfeas configur runtim sensit size design space custom acceler perform order demonstr qualiti propos framework compar perform acceler random configur well custom configur detail configur acceler list tabl iii perform comparison figur custom acceler achiev close perform custom custom acceler achiev speedup arm processor benchmark fir speedup promis low comput rate singl input output chip buffer scgra overlay limit perform acceler problem hope allevi appropri chip buffer partit will support propos framework futur configur includ loop unrol factor group factor scgra array size instruct memori depth buffer depth base base base base fir communic comput speedup fig custom fpga loop acceler perform conclus work present automat nest loop acceler framework base soft coars grain reconfigur array overlay demonstr advantag regular overlay intens system custom specif user applic perform effici time perform improv solut custom cost minut addit tool time framework generat acceler achiev time speed softwar run host processor high design product experi softwar programm acknowledg work support grant council hong kong project croucher innov award refer chung singl chip heterogen comput futur includ custom logic fpgas gpgpus microarchitectur micro annual ieee acm intern symposium dec bondhugula ramanujam sadayappan automat map nest loop fpgas proceed acm sigplan symposium principl practic parallel program ppopp san jose california usa march onlin http cong high level synthesi fpgas prototyp deploy comput aid design integr circuit system ieee transact grant wang lemieux cad framework malibu fpga time multiplex coars grain element proceed acm sigda intern symposium field programm gate array ser fpga york usa acm onlin http cool stitt intermedi fabric virtual architectur circuit portabl fast placement rout hardwar softwar codesign system synthesi code isss ieee acm ifip intern confer oct brant lemieux zuma open fpga overlay architec ture field programm custom comput machin fccm ieee annual intern symposium april capalija abdelrahman high perform overlay architec ture pipelin execut data flow graph field programm logic applic fpl intern confer sept ferreira fpga base heterogen coars grain dynam reconfigur architectur proceed intern confer compil architectur synthesi embed system acm kissler dynam reconfigur weak programm processor array architectur templat recosoc liu soft coars grain reconfigur array base high level synthesi methodolog promot design product explor extrem fpga frequenc field programm cus tom comput machin fccm ieee annual interna tional symposium april jain fahmi maskel effici overlay architec ture base dsp block field programm custom comput machin fccm ieee annual intern symposium dujaili guppi gpu soft core processor field programm technolog fpt intern confer dec yiannacoura steffan rose fine grain perform scale soft vector processor proceed intern confer compil architectur synthesi embed system ser case york usa acm onlin http sever lemieux embed supercomput fpgas vectorblox mxp matrix processor hardwar softwar codesign system synthesi code isss intern confer sept unnikrishnan zhao tessier applic specif cus tomiz scalabl soft multiprocessor field pro grammabl custom comput machin fccm ieee symposium april lebedev marc core approach reconfigur comput reconfigur comput fpgas reconfig intern confer dec yiannacoura steffan rose explor custom fpga base soft processor comput aid design integr circuit system ieee transact feb capalija abdelrahman architectur exploit coars grain parallel fpgas field programm technolog fpt intern confer dec laforest steffan octavo fpga centric processor famili proceed acm sigda intern symposium field programm gate array ser fpga york usa acm onlin http cheah fahmi maskel idea dsp block base fpga soft processor field programm technolog fpt intern confer dec tessier burleson reconfigur comput digit signal process survey journal vlsi signal process system signal imag video technolog compton hauck reconfigur comput survey system softwar acm comput survey csur yue koch lemieux rapid overlay builder xilinx fpgas field programm custom comput machin fccm ieee annual intern symposium compton hauck totem custom reconfigur array gen erat field programm custom comput machin fccm annual ieee symposium march zhou applic specif coars grain reconfigur array architectur design methodolog intern journal electron ahead print miniskar retarget automat generat compound instruct cgra base reconfigur processor applic compil architectur synthesi embed system case intern confer ieee cool stitt adjust cost overlay runtim compil field programm custom comput machin fccm ieee annual intern symposium lin energi effici dataflow comput fpgas applic specif coars grain architectur synthesi sigarch comput archit news mar onlin http 