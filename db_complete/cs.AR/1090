gamboa davi workshop eptc doi eptc van gastel schmaltz work licens creativ common attribut licens formalis xmas bernard van gastel julien schmaltz open univers netherland communic fabric play key role correct perform modern multi core processor system chip enabl formal verif trend high level micro architectur model captur design intent communic process messag intel propos xmas languag support formal definit execut speci ficat micro architectur formalis semant xmas formalis repres comput valu wire design main function comput set rout target messag messag progress current network state prove properti semant includ termin empti rout correct progress condit current effort focus basic subset entir xmas languag includ queue function switch introduct comput devic laptop server embed system integr larg number process memori element realm multi core processor multi processor system chip design communic architectur play key role correct perform system number integr compon grow complex network chip call communic fabric replac standard bus architectur element design complex integr network verifi real challeng concurr natur messag transfer applic simul techniqu difficult munic fabric larg structur characteris larg number queue distribut control network architectur defin larg number paramet size messag queue type flow control rout algorithm aspect constitut challeng applic formal verif techniqu trend propos high level micro architectur model eas appli cation formal method chip interconnect intel propos xmas execut micro architectur specif captur intent architect high level xmas model extract invari hardwar model checker perform verif hard ware design advantag techniqu appli hardwar descript issu xmas model requir correspond xmas model hardwar implement direct perform valid level xmas model studi describ verif deadlock freedom larg micro architectur descript initi effort prove latenc bound scalabl clear advantag abstract layer issu transfer properti proven xmas level hardwar implement issu constitut open question formalis xmas xmas model improv hardwar verif appli part communic fabric network wide verif open question leav open question relat xmas model hardwar descript long term jectiv support effici verif detail micro architectur model communic fabric approach defin set proof oblig xmas network satisfi proof oblig correct correct criterion consid notion correct fine genoc environ genoc specif valid environ communic network architectur entir formalis genoc theori defin general notion correct communic network architectur notion coin product state messag eventu gain access network eventu reach expect destin genoc theori identifi essenti properti constitu net work properti call proof oblig suffici ensur product approach instanti proof oblig arbitrari xmas network achiev object encod xmas semant instanc genoc theori encod reveal proof oblig suffici ensur product arbitrari xmas network major challeng latest version theori rich express xmas semant interest paper issu current rout genoc depend destin current posit messag xmas will explain paper messag rout content instanc rout decis depend type messag request respons contribut paper step extens genoc instanti xmas step present paper consist formalis core subset xmas languag context genoc formal xmas languag consist primit well defin semant detail formalis consid primit concern rout ing messag consid arbitr synchronis messag describ formal represent xmas network defin function repres ing semant xmas primit function mutual recurs comput valu interdepend signal integr genoc environ ment prove properti function includ empti rout correct flow control decis conclus relat properti axiom genoc sketch direct background xmas genoc xmas languag xmas model network primit connect type channel channel connect initi target primit channel compos three signal channel signal indic initi readi write channel channel signal indic target readi read channel channel signal data transfer initi output target input signal set true figur primit xmas languag function primit manipul data paramet function produc outgo packet incom packet typic function convert packet type repres messag depend insid fabric model van gastel schmaltz figur primit xmas languag italicis letter indic paramet grey letter indic port environ fork duplic incom packet output transfer take place input readi send output readi read join dual fork function paramet determin incom packet merg transfer take place input readi send output readi read switch function paramet determin output incom packet rout merg arbit grant output input arbitr polici paramet merg purpos fair arbitr polici support abstract detail polici queue store data messag determinist produc consum sourc sink sourc sink fair packet eventu creat consum sourc sink process multipl packet type figur sequenti updat regul combinatori primit execut semant xmas network consist combinatori sequenti fig combinatori updat valu channel signal sequenti synchron updat queue valu channel signal simul cycl consist combinatori sequenti updat sequenti updat concern queue sink sourc denot primit sequenti primit primit denot combinatori semant well defin combinatori cycl output channel signal irdi set true primit transmit packet channel channel readi transmit target input channel signal trdi set true primit accept packet input channel target channel readi receiv sequenti primit valu output signal depend valu input signal intern state queue accept packet full sourc sink produc consum packet intern oracl model determin exampl consid xmas model fig assum request packet inject queue sourc remain silent fork combinatori updat propag queue posit irdi signal queue readi receiv posit trdi propag sequenti updat request packet move queue remain packet will move simul cycl request rout sink eventu consum formalis xmas figur microarchitectur model request block respons arriv join respons inject block request full genoc environ genoc approach effici specif valid environ abstract parametr descript noc communic infrastructur figur genoc model function repres interact essenti constitu rout function switch polici common larg class network architectur constitu concret definit characteris set properti call proof oblig definit constitu paramet verif environ genoc model meta model architectur satisfi proof oblig correct genoc model express theorem proof direct proof oblig proof oblig discharg architectur automat architectur satisfi global theorem generic aspect genoc key reduc verif discharg proof oblig local constitu generic aspect composit approach verifi instanc constitu easili theorem discharg noc instanti noc transfer switchinginject rout proof proof oblig proof oblig proof oblig proof oblig proof oblig proof oblig proof obligationsoblig figur genoc methodolog figur updat van gastel schmaltz function genoc composit function repres essenti constitu network architectur inject method determin pend messag access network rout function determin hop current posit destin messag order function resolv arbitr conflict transfer decis decid messag advanc hop switch polici rout function transfer decis advanc messag function genoc combin function form network simul basic correspond function composit genoc function genoc take network state input simul noc architectur munic process deadlock reach return final network state object encod xmas semant genoc switch function direct cor respond synchron updat queue order function relat merg primit inject function relat sourc function transfer rout part genoc relev paper function will discuss proof oblig defin function transfer rout rout target rout propos hop messag transfer function decid messag move destin rout target valid resourc resourc correspond element inject evacu store messag proof oblig ensur rout occur resourc resourc transfer subset rout purpos transfer function decid messag move hop proof oblig ensur consist rout transfer phase transfer direct resourc proof oblig ensur correct transfer phase typic resourc space store messag buffer queue correct transfer phase allow transfer resourc resourc space store messag remaind paper formalis function rout transfer xmas languag formalis xmas formal represent xmas network xmas network formal repres list channel list compon compon structur type input output field constant componenttyp current includ type queue switch sourc sink function constant resourcetyp subset componenttyp includ three compon type messag queue sourc sink defstructur compon type out field option represent list assert member equal type componenttyp field structur store function paramet compon function store alist key alist correspond input argument function store correspond result defun event defin function applic defun appli field compon paramet func nth compon field compon cdr assoc paramet func instanc compon type switch function paramet function comput result paramet input special symbol error preserv symbol defun xmas switch function compon data equal data error error appli field compon data channel simpli structur compos initi compon target compon defstructur channel init target option represent list number accessor function compon out ponent structur channel refer represent integ serv compon structur function channel access input channel compon instanc call channel compon ntk produc input channel compon compon xmas network ntk likewis function channel access output channel compon accessor function compon accessor function defin channel init compon target compon return initi compon channel return target compon channel argument channel xmas network properti need ensur xmas network well form properti ensur uniqu target compon channel express defun state input port compon input channel precis compon target compon van gastel schmaltz defun compon channel invert ntk foral compon impli componentp compon len xmasnetwork channel ntk len compon compon equal target compon channel compon ntk ntk compon express uniqu initi compon channel defun state output port compon output channel compon initi defun compon channel invert out ntk foral compon impli componentp compon len xmasnetwork channel ntk len compon out compon equal init compon channel compon ntk ntk compon channel weaker express relationship channel compon compon multipl input output unknown channel port compon connect defun express weaker properti compon connect channel channel connect port input output port compon defun compon channel input compon channel ntk exist natp len compon compon equal channel compon ntk channel defun channel compon invert target ntk foral channel impli channelp channel len xmasnetwork compon ntk componentp target compon channel ntk len xmasnetwork channel ntk compon channel input target compon channel ntk channel ntk likewis relationship initi channel output port compon defun ensur output port compon connect input port compon proof predic syntact correct xmas network introduc predic recognis correct xmas network predic includ previous predic addit state list compon channel list deduc duplic list channel proof contradict relat channel compon duplic list contradict fact relationship invert proof formalis xmas defun xmasnetworkp ntk xmasnetwork ntk componentsp xmasnetwork compon ntk len xmasnetwork channel ntk channelsp xmasnetwork channel ntk len xmasnetwork compon ntk compon channel invert ntk compon channel invert out ntk channel compon invert init ntk channel compon invert target ntk duplicatesp xmasnetwork channel ntk duplicatesp xmasnetwork compon ntk true listp xmasnetwork channel ntk true listp xmasnetwork compon ntk formal semant xmas network simpl exampl figur microarchitectur model small rout network input packet type red blue rout type xmas primit well defin semant form boolean equat channel sig nal equat paper introduc xmas languag exampl semant switch primit equat output channel switch input channel function determin rout destin channel channel depend content incom packet scope paper left exercis reader van gastel schmaltz consid network exampl figur network compos sourc inject mes sage type red blue queue switch rout red messag blue messag red blue messag sunk sink initi queue empti queue readi accept messag trdi signal input channel high empti irdi signal output channel low explain earlier execut semant xmas proceed step signal updat second queue updat transfer assum sourc emit red messag irdi signal output channel high channel irdi trdi high transfer occur red messag move queue combinatori phase equat switch will propag high irdi signal channel switch will propag high trdi signal channel combinatori phase channel trdi irdi signal set high data will flow comput will data flow sink simpl exampl depend rout messag content interd pendenc irdi trdi signal depend formalis combinato rial xmas semant straightforward comput irdi signal depend comput trdi signal vice versa clear separ rout transfer decis defin function genoc rout transfer comput simultan remaind defin function xmas transfer calcul close respect xmas semant instanti function rout transfer genoc definit datastructur function xmas transfer calcul comput three element comput boolean signal comput set rout target set transfer destin match rout phase genoc match transfer phase genoc concret data structur calcul result irdi trdi wire tripl defin signal wire boolean wire comput transfer destin irdi trdi wire rout destin rout destin list pair queue packet pair specifi destin queue packet specifi actual content messag content chang presenc function primit path queue transfer destin transfer destin form rout destin differ rout destin potenti destin transfer destin destin reachabl current network state defstructur definit structur list creat structur creat wrapper call xmas result deal error state defstructur xmas bool rout transfer formalis xmas defun xmas result wire signal rout transfer equal wire signal error error xmas wire signal rout transfer semant xmas primit semant primit express tripl wire special conjunct disjunct oper tripl conjunct oper defin tripl xmas rout approxim union rout target transfer defin union transfer field boolean true empti set boolean field updat usual logic conjunct repres function defun xmas rout append xmas rout xmas rout cond equal error equal error error xmas bool xmas bool xmas result rout append xmas transfer xmas transfer xmas result nil rout nil disjunct oper xmas defin tripl xmas rout approxim union rout target boolean field select transfer destin transfer destin union transfer destin boolean field fals transfer destin empti repres function defun xmas rout append xmas rout xmas rout xmas transfer xmas transfer xmas bool xmas bool cond equal error equal error error xmas result rout append xmas result rout xmas result rout xmas result nil rout nil van gastel schmaltz encod semant primit direct translat irdi trdi data equat instanc trdi equat input channel switch direct translat term xmas xmas xmas transfer calcul irdi channel ntk ntk unvisit ntkstate xmas transfer calcul trdi channel ntk ntk unvisit ntkstate xmas xmas transfer calcul irdi channel ntk ntk unvisit ntkstate xmas transfer calcul trdi channel ntk ntk unvisit ntkstate function xmas transfer calcul comput valu tripl associ signal primit queue switch sourc sink function current support translat implement xmas transfer calcul function xmas transfer calcul figur comput specif signal chan nel argument flg indic signal irdi trdi data comput channel argument channel input argument unvisit list pair channel flg initi pair network rememb signal comput guarante termin explain extra argument function xmas network current network state current content resourc store extra argument chang comput return result note function xmas send xmas receiv express condit queue readi send packet queue readi receiv packet queue readi send packet store messag queue readi receiv packet full xmas send return tripl empti rout target destin xmas receiv return tripl rout destin current queue queue receiv packet transfer destin current queue empti return exampl present earlier illustr calcul irdi signal function step calcul xtc abbrevi xmas transfer calcul ntk unvisit ntkstate argument reason clariti exampl packet front queue type red packet will switch top channel xtc irdi xmas xtc irdi xmas switch xtc data xmas xmas result xmas send nil nil xmas switch red xmas xmas nil nil xmas nil nil xmas nil nil formalis xmas defun xmas transfer calcul flg channel ntk unvisit ntkstate declar xarg measur len unvisit cond member equal con channel flg unvisit error combinatori cycl equal flg data cpt init compon channel ntk type compon type cpt unvisit con channel flg unvisit cond equal type queue xmas data cpt ntkstate equal type switch xmas transfer calcul data channel cpt ntk ntk unvisit ntkstate equal flg irdi cpt init compon channel ntk type compon type cpt equal channel cpt ntk channel unvisit con channel flg unvisit cond equal type queue xmas result xmas send cpt ntkstate nil nil equal type switch equal xmas xmas transfer calcul irdi channel cpt ntk ntk unvisit ntkstate xmas result xmas switch function cpt xmas transfer calcul data channel cpt ntk ntk unvisit ntkstate nil nil equal flg trdi cpt target compon channel ntk type compon type cpt unvisit con channel flg unvisit cond equal type queue xmas compon xmas receiv cpt ntkstate cpt xmas transfer calcul data channel ntk unvisit ntkstate equal type switch xmas xmas xmas transfer calcul irdi channel cpt ntk ntk unvisit ntkstate xmas transfer calcul trdi channel cpt ntk ntk unvisit ntkstate xmas xmas transfer calcul irdi channel cpt ntk ntk unvisit ntkstate xmas transfer calcul trdi channel cpt ntk ntk unvisit ntkstate error figur code list xmas transfer calcul function van gastel schmaltz trace calcul signal wire trdi state note xmas three valu input true fals error preserv error symbol function normal xtc trdi xmas xmas xtc irdi xtc trdi xmas xtc irdi xtc trdi xmas xmas xmas xtc irdi xmas result xmas switch function xtc data nil nil xmas receiv xmas xmas xtc irdi xmas result xmas xmas switch function xtc data nil nil xmas receiv xmas xmas xmas xmas send xmas result xmas switch function red nil nil xmas receiv xmas xmas xmas send xmas result xmas xmas switch function red nil nil xmas receiv xmas xmas xmas xmas nil nil xmas nil nil xmas list list xmas xmas xmas nil nil xmas nil nil nil xmas list list xmas list list combinatori cycl termin xmas transfer calcul combinatori cycl depend cycl occur irdi trdi wire depend undesir situat output determinist depend previous state electr fluctuat time updat signal semant situat origin paper xmas avoid situat rememb visit wire invert set visit wire prove termin xmas transfer calcul recurs call function calcul valu remov set unvisit node current node recurs step measur decreas current node set unvisit node calcul depend case return error error formalis xmas propag xmas xmas oper reason network formal semant fulli combinatori cycl unspecifi exclud case function assum error state return easili check error state return calcul valu input network properti proven prove proof oblig state formalis xmas semant rout target proof oblig state rout produc valid rout target list rout target comput function xmas transfer calcul empti defthm xmas calcul result xmas transfer calcul trdi channel ntk unvisit ntkstate impli xmasnetworkp ntk member equal channel xmasnetwork channel ntk equal result error consp xmas rout result proof theorem requir hint lemma prover step rout target resourc obvious consist requir rout destin fact resourc compon packet compon switch function test condit creat function resourc check member input list resourc defin constant resourcetyp defthm xmas transfer calcul target resourc result xmas transfer calcul signal channel ntk unvisit ntkstate impli xmasnetworkp ntk member equal signal irdi trdi member equal channel xmasnetwork channel ntk resourc strip car xmas rout result ntk proof theorem requir hint lemma prover step transfer subset rout discuss earlier central approach model rout transfer phase proof oblig genoc destin chosen transfer phase subset rout target express theorem list defthm transfer subset rout result xmas transfer calcul signal channel ntk unvisit ntkstate impli member equal signal irdi trdi van gastel schmaltz subsetp equal xmas transfer result xmas rout result proof theorem requir hint lemma prover step transfer result space queue constraint genoc transfer phase space buffer receiv packet theorem defin specifi resourc return transfer phase receiv packet determin function xmas receiv defthm xmas transfer impli resourc result xmas transfer calcul trdi channel ntk unvisit ntkstate impli xmasnetworkp ntk member equal channel xmasnetwork channel ntk member equal resourc strip car xmas transfer result xmas receiv resourc ntkstate proof theorem requir hint lemma prover step conclus futur work present formalis primit xmas languag formalis achiev function xmas transfer calcul function comput boolean valu control wire list potenti rout target list actual destin base network state construct function allow integr genoc environ ment easi model combinatori sequenti part xmas semant discharg proof oblig function xmas transfer calcul empti rout correct transfer decis proof oblig will key integr genoc three primit formalis formalis fork primit will requir extens function xmas transfer calcul modif will need distinguish choic rout target necess rout target simultan simpli gather rout target list express conjunct disjunct rout target merg join will impact order switch function genoc formalis will requir modif main genoc function direct step extend genoc possibl model messag depend rout requir definit notion correct rout base destin current posit messag notion correct destin obvious rout depend content messag function chang content obvious destin correct challeng full formalis xmas result will solid environ verif detail micro architectur model communic fabric strong theori communic network architectur formalis xmas refer benini mich network chip soc paradigm ieee comput doi dominiqu borrion amr helmi laurenc pierr julien schmaltz formal approach verif network chip eurasip journal embed system doi satrajit chatterje michael kishinevski automat generat induct invari high level microarchitectur model communic fabric formal method system design doi satrajit chatterje michael kishinevski mit ogra quick formal model communic fabric enabl verif proceed ieee intern high level design valid test workshop hldvt doi hldvt william jame dalli brian towl rout packet wire chip interconnect network design autom confer proceed doi dac alexand gotmanov satrajit chatterje michael kishinevski verifi deadlock freedom communic fabric verif model check abstract interpret vmcai doi daniel holcomb alexand gotmanov michael kishinevski sanjit seshia composit perform verif noc design memocod ieee doi memcod julien schmaltz dominiqu borrion function formal chip communic mal aspect comput doi freek verbeek formal verif chip communic fabric thesi radboud univers nijmegen freek verbeek julien schmaltz hunt deadlock effici microarchitectur model communic fabric proceed intern confer formal method comput aid design fmcad fmcad austin http freek verbeek julien schmaltz easi formal specif valid unbound network chip architectur acm transact design autom electron system toda doi 