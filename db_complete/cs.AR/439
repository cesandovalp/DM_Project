fpga base novel high speed daq system design error correct swagata mandal suman sau amlan chakrabarti jogendra saini sushanta kumar pal subhasish chattopadhyay variabl energi cyclotron centr kolkata india sushant school technolog univers calcutta kolkata india ssakc_ acakc abstract state art applic area high energi physic experi hep radar communic satellit communic bio medic instrument requir fault resili data acquisit daq system data rate order gbps order high speed daq system function radiat environ direct intervent human robust error free communic system work ficient daq design implement field programm gate array fpga propos daq system support high speed data communic gbps achiev multi bit error correct capabl bch code name raj bose raychaudhuri multi bit error correct design implement xilinx kintex board test board board communic well board pcie peripher compon interconnect express interfac best knowledg propos fpga base high speed daq system util optic link multi bit error resili consid kind perform estim implement daq system base resourc util critic path delay effici bit error rate ber keyword daq fpga seu error correct pcie sgdma introduct high speed fault resili daq system integr signal process unit crucial real time applic radar communic hep satellit commu nicat tradit daq system frontend electron fee board captur data sensor high speed lvds link process send storag devic high speed link ethernet pcie fiber optic analysi common face problem tradit daq system low data rate prone seu high radiat area present optic fiber pcie suitabl option high speed data transmiss normal copper base lvds suscept nois interfer author develop gigabit optic serial interfac protocol gosip communic optic fiber implement pcie optic link interfac fpga daq system system stabl data rate gbps develop optic link pcie buse comput node data rate gbit propos author pcie hard altera stratix fpga board liansheng liu present develop fibr channel node pcie interfac avion environ node consist modul fpga modul powerpc modul node connect optic fiber small form factor pluggabl sfp interfac maximum data transfer rate achiev case gbps high speed data transmiss protocol optic fiber real time data acquisit beij spectromet iii besiii trigger system develop hao multi gigabit transceiv mgt virtex pro seri fpga data transmiss optic fiber achiev data rate gbps high speed data transfer protocol name serial front panel data port sfpdp optic fiber implement fpga captur data digit signal processor dsp extend attach unit interfac xaui optic link work three distinct speed gbaud gbaud gbaud author bus master dma lane generat pcie link transfer stream data fpga highest data transfer rate achiev case mbps seu occur charg particl hit transfer suffici energi silicon area circuit seu mitig techniqu classifi type prevent recoveri prevent method con sider asic design recoveri method includ onlin recoveri mechan fault toler comput error detect correct code onlin test system robust error detect correct tech niqu research concurr error detect ced techniqu extra error detect circuit main circuit error detect main circuit recomput roll oper tripl modular redund tmr scheme function replica thrice final result base major vote system mention scheme applic real time base time space redund combin error detect correct edac code play role success seu mitig scheme seu protect singl error correct ham code suffici reliabl communic high speed daq system multipl error correct code appli kind high speed daq multipl forward error correct code fec present paper bch code reed solomon code reed muller code mention work author discuss seu mitig high speed data acquisit system work advers environment condit deep space experi hep experi scope work take consider effici design stage daq chain meet high data rate requir high speed data acquisit system protect seu multi bit error correct code interleav scrambl code techniqu maintain balanc extra throughput code achiev maximum data rate gbps compar gbps gbps gbps paper key contribut effici implement fpga base high speed daq optic link multi bit error correc tion capabl perform analysi daq real time test set pcie scatter gather direct memori access sgdma rest paper organ describ full system design topolog high speed daq experiment setup perform evalu describ iii conclud remark system design high speed daq main aim daq critic applic handl high data rate error correct capabl effici storag mechan futur analysi high speed data transmiss optic fiber general communic media multibit error correct method effici communic discuss bch code suitabl random error correct interleav block introduc encod block judici enhanc error correct effici receiv side data direct transfer pcie fpga board function block propos system figur detail block discuss subsect scrambler descrambl scrambler reduc occurr long quenc maintain good balanc input signal come detector sensor help accur time recoveri receiv equip latenc clock cycl add overhead system code bit incom data divid block bit data block scrambl simultan bit polynomi scrambl data block combin produc bit scrambl output data scrambler bch encod interleav mux bit descrambl bch decod deinterleav demux bit frame align serial serial bit mhz bit mhz bit mhz gbps pattern search bit mhz bit mhz sender receiv mgt mgt data pattern generat pcie fig intern block propos system bch encod decod bch binari error correct code bch code correct error seu multipl bit upset mbu code scheme bit data append redund bit error correct code rate ratio input data code data bit data bit data bit header broken bit data encod bch encod parallel encod bit data block assembl generat total bit data block introduc clock cycl latenc system increas reliabl data transfer encod data decod three step determin error locat polynomi detect error locat chien search algorithm locat data error posit work design bch encod decod block custom hardwar design select bch code larger block size bch parallel faster error correct compromis time complex bch decod block correct bit error bit input total error correct simultan techniqu extra resourc tripl error correct bch code will reduc code rate interleav interleav interleav reorder data transmit consecut byte data distribut larger sequenc data reduc burst error general type interleav strategi block interleav convolut interleav communic system block interleav bit data encod divid block bit data interleav oper bit data block interleav process increas code correct capabl clock latenc overhead interleav process reorder data receiv side mux demux clock domain cross block consist dual port ram read write control break bit frame three bit width reduc bandwidth consumpt keep data rate mhz clock drive multi gigabit transceiv mgt xilinx core data rate intern block run mhz frequenc data rate clock frequenc chang requir block synchron data rate mgt part design figur architectur block diagram mux demux clock domain cross dual port ram control logic mhz mhz mux bit bit bit dual port ram mhz demux bit bit address_a address_b address_a address_b control logic fig mux demux clock domain cross serial serial block simpli convert parallel data serial data transmit communic channel inbuilt mgt serial simpli convert serial data parallel data receiv side frame align pattern search receiv side frame align block align frame proper order frame header frame header detect effici pattern search algorithm flow chart figur type frame standard frame fec standard frame consist field header field bit slow control bit data field width bit fec field width bit slow control merg data field field reserv control daq chain futur frame format fec consist three field header field bit slow control field bit data field bit standard frame format header header frame format fec frame format fec applic probabl error low high throughput need frame align pattern search block consist block pattern search block shifter block figur shifter block shift receiv data bit msb side send pattern search block pattern search block check header receiv header proper detect pattern search block will continu search subsequ header frame ensur stabil link process termin pattern search shifter generat wraddress true fals write bit data bit slip counter deseri fig algorithm frame align pattern search deseri righter shifter state machin pattern search demux lock status bit slip command headerfram fig data flow diagram frame align pattern search block data transfer host pcie asynchron fast fast fifo sgdma transfer data fpga board pcie pcie intellectu properti core xilinx interconnect fpga pcie figur data written fifo frequenc mhz mgt run data will read fifo frequenc mhz pcie core run side captur data program develop window softwar develop kit sdk written languag data flow overview complet chain function block figur high speed daq multi bit error correct consid bit error correct implement fpga board figur complet mechan standard frame generat error correct flow bit user data scrambl scrambler block bit data divid block bit data scrambl block parall scrambl data bit header map input line bch encod run parallel output encod combin frame bit data bit data interleav function block mux interleav reduc burst error header posit chang frame format red color figur interleav process help synchron frame scrambler bch interleav scrambler bch interleav bch fig pcie interfac block experiment setup propos daq scrambler bch interleav scrambler bch interleav bch fig standard frame generat error correct flow receiv side mux demux clock domain cross block dual port ram write bit data mhz clock read data mhz clock rate bit word size data rate write gbps read gbps bit data serial transmitt transmit optic fiber cabl receiv side function block deseri demux interleav bch decod descrambl perform revers function respect serial mux terleav bch encod scrambler extra block frame align pattern search receiv side chain function descript describ iii experiment setup perform analysi full prototyp daq chain implement xilinx kintex board avnet xilinx ise platform vhdl design entri extern jitter clean clock sourc drive mgt kintex board agil power suppli drive system kintex board connect singl mode optic fiber sfp finisar board communic lane pcie name signal function tabl time diagram transmitt receiv side figur block diagram experiment setup system figur achiev maximum bit rate gbps system standard mode frame bit data bit error correct fec bit header bit fec field correct upto bit error appli decod block parallel tabl comparison exist work devic speed error correct code gbps capabl lattic mention altera stratix mention altera mention virtex pro seri fpga crc error detect kintex multi bit error correct scrambler design bch code bit error correct block data rate achiev consid data field mode frame format fec error correct code frame carri bit data bit frame mode data rate measur data transfer effici mention mode tabl comparison work exist work exist system better speed respect implement incorpor error correct mechan resourc util function block pro pose daq system tabl iii figur critic time maximum delay time output circuit circuit block power consumpt estim xilinx xpower tool estim averag logic signal power model propos design tabl best knowledg report critic time power consumpt type system time seu error random natur emul fabric_clk mgt_ref_clk pll_lock reset busy_o done_o scrambler data data data data data data data data data data data data data data data encod encod encod encod encod encod encod encod tx_gearbox_output frame_algnr_rightshift data data data data data data data data data data data data data data frame_algnr_pattrn_srch frame_algnr_bscount header_lock_o frame_algnr_wraddr ram_en write bit data data data data decod decod decod descrambl data data data fig time diagram transmitt receiv signal tabl descript signal time diagram signal width function fabric_clk drive block daq transmiss receiv side mgtref_clk drive mgt transmiss receiv side pll_clk drive mgt transmiss receiv side pll_lock output pll indic pll generat stabl clock transmiss receiv side reset reset system transmiss receiv side busy_o high system enter process readi transmiss receiv side scrambler signal data output scrambler block transmiss side encod signal data bch encod transmiss side mux_output signal output mux block bit width transmiss side frame_alignr _rightshift store receiv data shift bit receiv side frame_alignr _pattern_search check header match receiv side frame_alignr _bscounter store output counter header match receiv side header_lock_o high frame lock receiv side frame_alignr _wraddr store address ram receiv data will written receiv side ram_en high ram readi perform receiv side write bit data store bit data written ram receiv side decod decod data receiv side descrambl output data descrambl block receiv side tabl iii resourc util board modul slice slice lut bram regist lut flip flop bch encod bch decod scrambler descrambl interleav deinterleav frame align encrypt encrypt rsa pcie top modul pcie top modul pcie seu error generat random error input data random error generat simul ber figur respect nois vari assum power spectral densiti nois poison distribut figur effici system compris bch code interleav scrambler best perform presenc nois throughput daq system measur gbps xilinx platform instal fedora conclus work propos novel daq design hep experi propos daq support high speed term gbps optic data communic correct multi bit error daq design implement xilinx kintex board real test setup develop involv board board communic pcie interfac host detail perform analysi daq implement present term time diagram resourc util critic time block fpga power consumpt ber propos daq design implement involv optic data tabl modul wise power consumpt board modul logic signal power power bch encod bch decod scrambler descrambl interleav deinterleav frame align pcie top modul pcie top modul pcie fig critic time block scrambler bch interleav scrambler bch interleav bch fig studi ber nois communic multi bit error correct capabl consid kind serv benchmark design hep daq futur plan concept multi pocessor system effici data process test setup radiat zone acknowledg author acknowledg dae dst gsi cern teqip provid support carri refer wang lixin song wei chao implement high speed real time data acquisit transfer system industri electron applic iciea ieee confer minami hoffmann kurz ott design implementa tion data transfer protocol optic fiber nuclear scienc ieee transact aug kadric manjikian zilic fpga implement high speed optic link pcie interfac soc confer socc ieee intern sept liansheng liu chuan liu peng datong liu design fibr channel node pci interfac instrument measur ment technolog confer ieee intern hao liu yunpeng dixin zhao guo fpga base high speed data transmiss optic fiber trigger system besiii nuclear scienc symposium confer record nss ieee volum oct mattih design realiz serial front panel data port pdp protocol consum electron communic network cecnet intern confer april kavianipour bohm high perform fpga base scat ter gather dma interfac pcie nuclear scienc symposium medic imag confer nss mic ieee oct daniel siewiorek robert swarz reliabl comput system design evalu peter natick usa gabrielli roberti fior loddo ranieri archi tectur slow control asic futur high energi physic experi slhc nuclear scienc ieee transact june chien cyclic decod procedur bose chaudhuri hocquenghem code theori ieee transact varghes sreelal vinod krishnan multipl bit error correct high data rate aerospac applic communic technolog ict ieee confer april antoni leveugl feher time reconfigur fault inject applic instrument measur ieee transact oct scrambler bch encod descrambl bch decod bit mhz bit mhz bit mhz data pattern generat pcie 