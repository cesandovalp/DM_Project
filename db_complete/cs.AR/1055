high level model embed flash energi consumpt jame pallist univers bristol kerstin eder univers bristol simon holli univers bristol jeremi bennett embecosm abstract align code flash memori deepli embed soc larg impact total energi consumpt comput investig code align soc find larg proport energi total soc energi consumpt save chang align flexibl model creat predict read access energi consumpt flash memori deepli embed soc code execut place model instruct level memori access perform processor calcul flash energi consumpt sequenc instruct deriv model paramet soc valid error low averag normal rms deviat scope model optim code align explor rang benchmark soc analysi loop better align reduc energi increas code size con clude potenti effect optim sav ing energi deepli embed soc introduct demand longer batteri life increas function embed system motiv improv energi consumpt devic notic deepli embed devic batteri expect time scale year previous attempt reduc energi consumpt focus improv hardwar prolong bat teri life softwar centric approach achiev maxi mal energi save deepli embed devic typic system chip soc heart devic control system soc small devic cach execut rect embed flash memori current technolog copyright notic will appear preprint option remov allow embed flash major sili con area larg proport power dissip embed memori flash uniform structur caus address depen dent energi consumpt paper energi con sumption model reduc minim overhead execut time code size consid absolut address flash memori adjust posit exampl absolut address code flash energi figur diagram quenc instruct cross boundari flash cross boundari addit energi consumpt addit circuitri power access code cross boundari energi consump tion code sequenc lower power support circuitri compil obvious target approach automat appli code transform develop impl ment transform compil benefit energi effici upgrad modif devel sourc code user trivial compil version upgrad implement energi effici optim previous optim consid memori align ment energi consumpt cach code data typic ensur frequent execut piec code singl cach will reduc energi consumpt cach fewer cach line power fewer cach miss occur deepli embed system cach rare exist power size cost constraint principl move piec code better locat structur flash energi consumpt characterist techniqu appli regionend region loop individu instruct figur illustr misalign loop caus addit ergi consumpt soc architectur volatil memori volatil memori bit width instruct bit width arm cortex flash sram arm cortex flash sram atmel avr flash sram mip flash sram flash sram fram sram tabl featur soc select bit instruct isa support interleav bit instruct mode enter bit instruct differ embed flash memori cach divers embed flash major cach oper model simpli consid cach size embed flash memori number paramet energi consumpt paramet vari soc soc charac terist depend soc choic flash technolog processor architectur die flash architectur requir generic model flash mem ori construct paramet tune wide rang embed flash type paper consid soc find energi consumpt characterist processor contribut model flash memori energi consumpt model consid read access code infrequ modi fie deepli embed processor read model suffici enabl optim model applic wide rang soc paramet soc explain refer der structur flash memori analysi loop align flash memori energi consumpt includ featur embed flash correspond model model valid predict energi consumpt flash memori analysi scope energi optim deepli bed processor model transform jus tifi static analyz benchmark suit show loop benefit optim increas code size paper structur descript soc structur flash mem ori present model energi consumpt flash memori discuss test measur collect list soc model paramet soc deriv discuss optim justif analysi benchmark suit discuss work area final present conclus paper platform propos techniqu evalu soc demonstr portabl platform cover rang deepli embed processor varieti instruct set soc configur distinguish instruct set architectur hardwar implement soc purpos paper architectur instruct set identifi energi consumpt characterist occur embed flash structur includ processor characterist specif combin architectur flash structur chosen processor varieti instruct width variabl length cover spread differ ent type instruct set code align ment compil architectur hypothes will provid good coverag energi consumpt effect flash memori expos align occur platform soc paper describ featur tabl arm cortex soc popular bit pro cessor execut bit instruct arm cortex cortex processor cortex execut superset instruct includ ing bit instruct atmel avr bit processor struction bit long microchip pic mip processor chosen mip core direct access flash cach core support bit instruct set bit dsp processor bit instruct set instruct bit long devic ident pro cessor architectur soc minor modif peripher memori size defin fea ture fram flash volatil storag direct comparison previous processor allow fect differ memori expos aim mix soc demonstr differ embed flash confound effect processor architectur energi consumpt flash memori structur major embed flash modern deepli embed soc embed nand flash chosen high densiti typic disadvantag associ nand flash flash nand flash eras program larg bit line word line bus cpu figur structur singl embed flash memori block flash program finer gran ular disadvantag general insignific deepli embed applic infrequ updat firmwar exampl embed flash structur figur diagram flash individu flash cell arrang word line bit line form block bit size typic bit agram word typic diagram block block structur allow entir word line read simultan ousli select block word bit line charg select gate con nect block bit line sens amplifi bit line read flash propag interconnect key consequ access flash array bit time unalign access perform read pow ere word line extract relev part return processor will result addit energi consumpt higher power dissip read perform cycl chang will larg associ energi cost addit sens amplifi decod circuitri will power code execut direct flash execut chang flash measur increas total energi consumpt occur hypothes layout flash memori will energi consumpt code execut specif embed flash modern soc general hard creat analyt model figur region chang definit flash model creat paramet empir tune specif soc embed flash fram ferroelectr ram newer technolog lower ergi consumpt access characterist compar flash structur fram access random fashion oppos word line block flash memori expect align execut code will energi consumpt fram soc comparison flash soc soc tabl chosen type memori flash model discuss energi consumpt caus flash structur model preval execut place deepli embed microcontrol read access code execut consid hypothes time consecut flash memori access chang arbitrari byte region will associ energi cost cost cumul byte gion chang byte byte region will chang form generic model appli varieti processor embed flash exam ple model power decod byte energi cost byte chang memori access direct instruc tion execut flash memori undocu size flash array structur number bit line word line model generic ensur applic exampl figur illustr transit memori locat will util differ ent model paramet full model exampl access address access byte boundari byte boundari cross energi cost transit repres energi cost cross byte boundari energi cost cross byte boundari energi cost will branch fetch instruct figur diagram memori address access instruct fetch abstract arbitrari access fol low equat repres memori address term repres largest region chang byte smaller region chang symbol bitwis exclus dress express singl transit built entir memori energi cost applic consid access flash consecut flash access set consecut access form model requir detail memori read struction fetch data access challeng analyz data access static approxim model note set access perform sequenti exe cute instruct form approxim model sequenti instruct determin address instruct ignor data access flash accuraci instruct access model will lower model enabl easi analysi program compil time paramet character measur ergi consumpt care instruct flash method linear regress paramet cost move code address mem ori explor model heuri tic compil optim allow strateg code placement reduc flash access energi cost instruct fetch discuss instruct fetch perform core will affect energi consumpt instruct access model improv account processor test pipelin ecut current instruct fetch execut instruct addit memori access affect sequenc memori access branch branch will caus addit memori access will account model fig addit instruct fetch instruct level model modifi account addit memori access express scribe memori access fetch branch instruct instruct set branch andnf number addit struction fetch processor formula describ extra instruct transit need branch instruct independ branch destin energi consumpt instruct fetch calcul formula set consecut instruct access amount fetch perform processor typic instruct list relev datasheet extra term incorpor model better fit instruct sequenc loop section depend branch behavior energi consumpt unknown condit branch des tinat energi predict upper lower bound analyz code static decreas accuraci static predict model valid accur predict condit branch region offset size loop relat flash regionend region loop cross flash region figur diagram loop align test loop offset byte figur loop align energi consumpt sloop case lower blue upper green letter repres featur direct map paramet model describ text featur tail fig loop align test discuss align loop ergi consumpt soc describ test perform high light chang energi consumpt test demonstr effect loop align fol low deriv paramet model actual measur instrument ver sion piec hardwar structur flash expect energi consumpt will differ code execut dress memori space test choos simpl loop size align respect memori measur energi consumpt fig diagram sregion size flash offset loop memori size loop byte multipl byte bit instruct platform test oloop sloop oloop sloop set test cover oloop sloop loop offset byte featur figur close featur featur highlight num ber offset rais energi consumpt greater expect form exhaust set loop align size expo ing align effect provid sound data deriv model paramet energi flash memori test calcul model ear lier actual energi consumpt fig show test repeat multipl platform sloop effect graph divid observ combin differ graph platform align byte boundari larg energi consump tion occur bit line flash devic model param eter loop size multipl byte chang ing offset small number byte region power increas energi vers multipl differ amount instruct fetch perform discuss detail increas energi consumpt loop straddl multipl byte block lesser extent artifact flash structur divid group word line total byte loop strad dles multipl block addit energi requir activ block effect captur model assign energi cost byte region power flash predict structur under flash memori manifest spike energi consumpt loop span flash fig model assign larg cross byte bound ari chang byte region larger associ energi cost pattern soc devic larg spike byte byte suggest flash byte long consequ model attribut ing energi cost featur fig highlight number test higher energi consumpt greater soc model paramet tabl model paramet platform letter bracket paramet correspond featur figur loop offset byte model measur figur comparison model actual figur sloop pect region highlight region point larg energi consumpt byte instruct byte instruct fetch consequ loop size align test straddl region boundari number test expect higher energi consumpt instruct fetch larger number point flash base platform extra instruct fetch branch encount extra region ing power addit energi consumpt discuss sixth soc see complet flat energi profil graph fram flash soc discuss structur type memori flash featur soc appear differ soc small chang peripher clock characterist graph caus direct flash processor soc interconnect regress model fit platform allow ergi requir activ region determin find paramet linear regress perform oloop soc nrmsd cross tabl normal root squar deviat nrmsd calcu late valid sloop allow major paramet fit total test soc deriv model paramet tabl high light cell high cost effect appear previous graph fig label exampl model fit previous fig paramet align issu execut code align byte boundari will larg energi consumpt code execut frequent suggest platform bit line soc larg jump energi consumpt code cross byte region size flash soc paramet valu indic flash divid block dition energi requir power support circuitri block model valid model valid cross valid test model unseen complex loop cross valid sloop train dataset test remain repeat combin dataset averag error observ predict data soc tabl error error indic well model fit data model perform well base soc error accept soc larger error trivial instruct fetch ing buffer perform cortex soc three bit buffer hold prefetch instruct condit replenish buffer complex depend branch instruct stream exact condit buffer oper error reduc great nrmsd featur program iii tabl normal root squar deviat nrmsd calcu late valid complex loop tabl display featur loop uncondit branch condi tional basic block pair test structur size block relat byte offset model measur figur model actual data soc complex loop instruct fetch buffer cortex suspect branch specul processor cancel error reduc extran memori access model valid repeat loop align test set complex loop loop con struct exampl loop beeb var ious condit structur number condit uncondit branch number basic block size basic block loop generat meant good spread instruct level featur loop featur tabl loop move locat mem ori chang energi produc predict model appli model instruct trace test energi measur real hardwar error observ predict data loop tabl platform processor chosen best worst error cross valid figur individu predict plot ted measur complex loop low error rate pro cessor indic model predict energi consumpt flash memori well complex loop error higher buffer make sequenc memori access difficult captur instruct trace graph offset energi consumpt qualit processor ing align optim base model effect analysi optim scope model deriv predict align ment loop instruct flash memori chang reduc energi consumpt benchmark suit analyz abil optim platform examin optim ensur loop align minim energi platform greatest model paramet byte region reduc ensur loop align byte boundari optimiza tion modern compil perform reason byte bus width processor unalign access perform penalti support align higher boundari consid perform execut time benefit energi save transform align loop con sider item estim minimum number iter loop trade cost benefit align loop trade will num ber iter loop execut size loop transform consid size loop larg loop will lower relat decreas energi consumpt compar smaller loop space wast align loop align loop byte region byte wast wast space balanc benefit align loop blind align loop larg boundari increas code size minim move infrequ execut basic block space loop loop entri distanc perform energi cost branch loop weigh cost pad offset nop paramet control optim tune soc propos loop align optim analyz energi save potenti realist scenario perform analyz run beeb benchmark sign expos energi consumpt characterist bench mark compil latest version gcc platform tool written analyz binari compil tool algorithm detect loop program extract align size analysi construct erag loop size percentag increas code size loop align percentag loop program align tabl platform optim level gcc deepli embed system optim level great increas size applic function inlin loop unrol lower optim level provid requir level perform opt level figur column averag loop size byte averag percentag increas code size elig loop align percentag loop realign reduc energi consumpt optim level exclud rijndael benchmark fail compil loop realign reduc energi consumpt increas code size expect minim increas execut time small amount extra code loop appli code analysi timiz potenti reduc energi consumpt signifi cant great increas code size execut time work model energi consumpt attempt embed system larger complex processor tiwari construct instruct level energi model assign energi cost instruct pair instruct model extra paramet denot effect direct execut includ effect paper well cach studi creat detail model includ term memori energi term consid ham weight address ham distanc consecu tive address studi look part system includ cach dram peripher flash power consumpt model low level studi construct detail model flash power consumpt deriv transistor layout level informa tion model valid physic measur flash chip requir detail knowledg exact structur flash addit model applic embed flash simpler structur joo charac teriz energi requir write multi level cell flash devic develop energi awar compress method exploit depend natur energi consumpt softwar approach consid frequent opti mize energi consumpt memori hierarchi embed devic kim model memori hierarchi evalu cach configur algorithm find compil success reduc energi consumpt data access instruct access ergi increas studi attempt optim data structur layout memori reduc impact cach embed devic effici scratchpad memori consid find save ergi achiev studi exploit fact scratch pad memori faster access proxim pro cessor algorithm decid item code data store memori save amount energi execut time timiz focus reduc number memori erat memori oper typic energi intens process oper reduc memori oper lead lower energi consumpt softwar optim target energi consid automat insert idl instruct instruct schedul ing simd exploit differ function unit work studi embed flash code execut energi con sumption overlook perfor manc gain align code techniqu present paper repres step exploit energi consumpt characterist embed flash conclus paper discuss structur embed flash memori intern structur flash signifi cant energi consumpt system alter align loop expos chang energi consumpt chang total energi consumpt soc lesser degre generic model creat predict energi consumpt code posit flash model consid circuit state chang overhead sequenti memori access assign ergi cost access byte region paramet model deriv soc paramet correl structur lie flash model valid paramet cross valid loop align test soc largest smallest error tensiv valid perform loop complex control structur condit branch error platform remain cross valid indic model cope arbitrari code error soc larg observ predict qual itat allow effici code placement predict model sixth soc fram technolog stead flash code align energi consumpt processor expect random access natur fram potenti optim code base model discuss transform ensur start loop align byte boundari reduc number byte boundari cross code chosen base paramet target soc propos optim applic loop varieti benchmark increas code size averag guidanc program sembl code programm direct control code addit optim implement compil automat align loop creat high level languag possibl save energi unconsid exploit structur embed flash model predict energi flash enabl design optim reduc energi consumpt acknowledg studi fund embecosm part spon sore doctor train account hipeac internship refer tom vander murali jayapala francisco barat henk corpora francki catthoor geert deconinck instruct data memori energi trade high level model steer loop merg ing transform proceed workshop optimiza tion dsp embed system abari basu chen chatterje farshchi croda herrick hammer newman kartalopou los nonvolatil memori technolog emphasi flash ieee press seri microelectron system john wiley son hoboken usa edit decemb brad calder chandra krintz simmi john todd austin cach conscious data placement acm sigplan notic novemb paola cavaleri bruno lecont bastien zink jean devin eras flash memori ozgur celebican tajana simun rose vincent mooney iii energi estim peripher devic embed system proceed acm great lake symposium vlsi acm chakrapani korkmaz mooney iii palem taswami wong emerg power crisi embed processor poor compil proceed intern confer compil architectur synthesi embed system acm lokesh chandra sourav roy estim energi consum softwar processor cach ieee intern sympo sium vlsi design autom test vlsi dat ieee april chen kadayif zhang kandemir kolcu compil direct manag instruct access proceed romicro symposium digit system design ieee comput soci eti trishul chilimbi jame larus mark hill cach conscious structur layout acm sigplannotic lovic gauthier tohru ishihara hideki takas hiroyuki tomiyama hiroaki takada minim inter task interfer scratch pad memori usag reduc energi consumpt multi task system proceed intern confer compil architectur synthesi embed system acm mostafa ibrahim markus rupp hossam fahmi code transform simd impact embed softwar ergi power consumpt intern confer puter engin system ieee decemb yongsoo joo youngjin cho donghwa shin jaehyun park nae hyuck chang energi character platform memori vice energi awar data compress multilevel cell flash memori acm transact design autom electron sys tem juli mahmut kandemir vijaykrishnan mari jane irwin compil optim low power system power awar comput yoshihisa kato hiroyuki tanaka kazunori isogail kazuhiro kaibar yukihiro kaneko yasuhiro shimad matt brubak jolanta celinska larri mcmillan carlo paz araujo embed feram challeng technolog node intern symposium applic ferro electr ieee kim mari jane irwin vijaykrishnan kandemir fect compil optim memori energi ieee workshop signal process system ieee vidyabhushan mohan trevor bunker laura grupp sudhanva rumurthi mircea stan steven swanson model power con sumption nand flash memori flashpow ieee tran action comput aid design integr circuit system jame pallist simon holli jeremi bennett beeb open benchmark energi measur embed platform parikh mahmut kandemir vijaykrishnan mari jane irwin instruct schedul base energi perform constraint proceed ieee comput societi workshop vlsi ieee comput soc renesa electron renesa electron develop embed flash memori technolog microcontrol anil seth keskar venugop algorithm energi optim processor instruct case proceed ing intern confer compil architectur synthesi embed system york york usa acm stefan steink markus knauer lar wehmey peter marwedel accur fine grain instruct level energi model support softwar optim proceed patmo stmicroelectron high densiti nand flash memori vivek tiwari sharad malik andrew wolf mike tien chien lee instruct level power analysi optim softwar journal vlsi signal process system signal imag video technolog manish verma lar wehmey peter marwedel dynam lay scratchpad memori energi minim intern confer hardwar softwar codesign system synthesi acm thoma vogelsang understand energi consumpt namic random access memori annual ieee acm intern symposium onmicroarchitectur ieee decemb tao wei jian mao wei zou chen algorithm iden tifi loop decompil static analysi joseph zambreno mahmut kandemir alok choudhari enhanc ing compil techniqu memori energi optim embed softwar 