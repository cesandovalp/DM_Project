communic channel priorit publish subscrib architectur ali paikan daniel domenichelli lorenzo natal icub facil istituto italiano tecnologia abstract real time communic distribut applic time constraint task execut data process play fundament role softwar engin real time properti integr publish subscrib middlewar articl describ approach integr prioriti qualiti servic qos publish subscrib middlewar basic idea leverag oper system function provid framework specif communic channel priorit time paper present implement approach yarp robot platform open sourc middlewar preliminari experiment evalu perform term real time system qualiti servic channel priorit publish subscrib architectur communic introduct concurr execut softwar compon cluster comput adopt solut implement parallel comput field exampl robot virtual realiti compon base softwar engin cbse distribut system strive decoupl communic concern implement compon oper independ respect time space flow paradigm propos achiev level separ tupl space messag pass remot procedur call rpcs context publish subscrib paradigm increas popular allow achiev good level compon decoupl reusabl publish subscrib model sender publish send event messag remot procedur call direct specif receiv subscrib publish regist central event servic entiti provid specif event character type simpler identifi asynchron subscrib express interest receiv event knowledg number ident publish enabl three level decoupl anonym publish subscrib unawar exist time decoupl publish subscrib activ time iii asynchron subscrib pull event wait deliveri notif subscrib allow achiev level decoupl push adopt publish subscrib paradigm domain financi autom transport robot mail mail mail switch pub pub pub host host host figur exampl publish subscrib architectur lan network consist three node connect ethernet switch arrow repres data flow publish subscrib time critic distribut applic requir support real time qualiti servic qos communic architectur aim provid publish subscrib qos enabl compon middlewar rtse rtns dds deng comprehens survey architectur describ design choic implement real time publish subscrib servic qos real time properti configur three level event port channel level actual implement depend point middlewar servic integr exampl corba middlewar choic compon contain compon server qos configur publish subscrib middlewar meet requir real time applic type qos messag priorit allow event requir reaction specif subscrib deliv priorit manner channel priorit time critic applic field control system robot multipl compon subscrib specif event call topic access messag lowest latenc guarante under network infrastructur load stream messag prioriti qos appli guarante deliveri messag shortest time prioriti affect messag transit process impli subscrib listen topic process messag order proper priorit communic channel priorit consid best effort qos paper present integr prioriti qos yarp robot platform middlewar open sourc publish subscrib middlewar design develop robot approach extend properti individu connect channel prioriti level prioriti level prioriti thread handl communic network type servic advantag approach reli function offer oper system requir specif compon messag priorit add overhead communic channel addit import allow remot configur qos port scope time dynam priorit communic channel work inspir requir robot applic applic time critic distribut applic field virtual realiti exampl reduc latenc discuss benefit synchron distribut acquisit render multipl camera rest paper organ describ common problem channel priorit explain integr publish subscrib middlewar actual implement channel priorit yarp middlewar experiment evalu present final present conclus futur work communic channel priorit implement publish subscrib system intermedi broker publish post messag broker perform store forward function deliv messag subscrib regist implement messag priorit scenario broker simpli rout messag desir order exampl subscrib specif topic receiv copi messag subscrib central approach easili ineffici scale well effici approach compon share meta data describ exampl type messag establish peer peer connect publish subscrib exampl data distribut servic dds multicast yarp ros central server store meta data perform name lookup approach implement yarp will describ achiev messag priorit distribut system difficult central author control messag deliveri paper approach call channel priorit better understand channel priorit consid network architectur depict fig network compos three comput node connect ethernet switch three publish machin pub pub pub push messag three subscrib machin arrow repres individu data flow channel publish subscrib priorit channel pub bold bandwidth resourc channel interfer messag travel pub messag pub guarante best effort sens reach lowest latenc overview yarp yarp multi platform distribut robot middlewar consist set librari communic protocol tool softwar modul hardwar devic clean decoupl communic special object call port port publish send data number receiv subscrib process cross boundari process network protocol machin yarp manag connect decoupl publish subscrib port activ object manag multipl connect input output fig port locat network symbol name port manag server server map user code output output output input input input port object command readwrit process output stream output stream input stream input stream figur intern structur yarp port object symbol name string triplet compos address port number interfac requir establish connect endpoint connect establish communic perform endpoint independ central server worth note connect state manipul extern administr command manag connect state port connect standard protocol tcp udp mcast programmat runtim administr command singl port transmit messag connect protocol likewis receiv messag sourc protocol protocol custom plug system allow carrier object implement protocol fact yarp librari treat connect broad term reliabl includ meta data repli deleg actual communic carrier object carrier varieti case distinguish featur yarp exampl allow send messag type network implement data compress support network level interoper yarp program carrier extend hook execut code perform arbitrari action local compon remot integr prioriti qos yarp asynchron communic yarp achiev way protocol independ manner configur port object send receiv user data separ thread conceptu exampl depict fig asynchron publish publish push data subscrib separ dedic thread communic channel decoupl time publish subscrib reduc amount time spent user thread send data insid subscrib dedic thread read data communic channel ideal avoid reli depend function signal notifi user thread data subscrib port general speak dedic thread communic introduc extra comput time compon execut thread schedul context switch overhead provid better implement abstract exploit implement priorit user thread command user thread command user thread output output command data packet figur exampl compon asynchron communic yarp publish push messag subscrib separ dedic thread communic channel real time properti qos attribut configur scope user thread dedic communic thread data packet configur real time properti prioriti schedul polici user thread programmat user code automat compon middlewar function dedic tool scope paper approach real time properti configur separ communic thread modifi yarp possibl chang prioriti thread handl data transmiss communic channel publish write data port handl correspond thread point job oper system schedul thread respect real time properti highest prioriti thread write data socket fig port object subscrib multipl publish separ input channel case thread priorit appli subscrib side ensur messag specif channel will deliv user high prioriti minimum jitter data packet priorit configur real time prioriti communic thread guarante messag written read channel specif prioriti messag written socket hand oper system control order transmit transport layer general speak silver bullet data packet priorit comput network partial solut exist high depend network topolog infrastructur communic protocol ethernet local area network lan data packet configur properti prioriti deliveri respect time order clarifi issu consid network architectur fig place network packet traffic congest happen level insid network driver outbound data multipl applic written network interfac control switch packet port forward singl port common bottleneck comput network critic infrastructur resourc rout traffic driver queue typic implement fifo buffer bridg stack network interfac control nic oper system linux intermedi layer stack driver queue implement queu polici layer implement traffic manag capabl includ traffic priorit exampl linux distribut default queu polici pfifo fast qdisc implement simpl three band priorit scheme base tos bit band packet follow fifo polici priorit band long packet wait higher prioriti band lower band will process hand user level messag network control priorit manner provid mechan tos bit data packet adjust desir prioriti channel multilay network switch oper osi layer capabl implement qos packet priorit classif output queue congest manag common differenti servic code point dscp bit tos byte indic prioriti packet differenti servic enabl class priorit provid low latenc critic network traffic provid simpl best effort servic critic applic guarante low latenc packet transfer publish subscrib tos bit adjust proper fall highest prioriti band queu polici form high prioriti class differenti servic network switch implement describ earlier port administr command provid rich set function monitor chang state port connect implement channel priorit yarp function extend allow tune qos real time properti port object granular individu connect current implement port administr set command affect prioriti communic channel set schedul polici prioriti communic thread configur tos dscp bit data packet deliv exampl simpli configur real time properti output entiti fig yarp tool yarp admin rpc prop set sched polici sched_fifo prioriti yarp admin rpc simpli open administr session port object second real command administr port adjust schedul polici prioriti thread handl connect sched fifo linux machin packet prioriti chosen predefin class dscp class select packet treat similar queu polici network switch exampl packet prioriti class low will lowest prioriti band band linux queu polici will lowest prioriti network switch tabl provid list class thread schedul properti high depend proper combin prioriti polici platform adjust thread prioriti entir subject specif permiss tabl predefin class packet prioriti class dscp qdisc low band normal default band high band critic band switch host pub host evalu channel priorit network card switch pub host host pub host evalu channel priorit network switch figur evalu channel priorit qos yarp case bold repres priorit channel dash channel produc arbitrari network load data packet prioriti configur administr command set predefin prioriti class direct configur dscp tos bit yarp admin rpc prop set qos prioriti high simpli set outbound packet prioriti high set paramet set channel joint defin actual prioriti communic channel publish subscrib architectur evalu evalu implement channel priorit yarp devis test case fig case fig deal evalu channel priorit traffic congest network card level second fig investig perform improv channel priorit network switch node host linux machin preempt kernel connect gigabit ethernet qos enabl switch cisco catalyst test case separ channel publish subscrib measur round trip time messag channel pub acknowledg packet pub messag receiv pub second channel pub produc arbitrari control network load udp load udp data udp load tcp data tcp load udp data tcp load tcp data averag packet trip time load normal qos udp load udp data udp load tcp data tcp load udp data tcp load tcp data standard deviat packet trip time load normal qos udp load udp data udp load tcp data tcp load udp data tcp load tcp data averag packet trip time load normal qos udp load udp data udp load tcp data tcp load udp data tcp load tcp data standard deviat packet trip time load normal qos evalu channel priorit network card udp load udp data udp load tcp data tcp load udp data tcp load tcp data averag packet trip time load normal qos udp load udp data udp load tcp data tcp load udp data tcp load tcp data standard deviat packet trip time load normal qos udp load udp data udp load tcp data tcp load udp data tcp load tcp data averag packet trip time load normal qos udp load udp data udp load tcp data tcp load udp data tcp load tcp data standard deviat packet trip time load normal qos evalu channel priorit network switch figur evalu bar label qos repres test presenc channel priorit bar label normal repres test absenc priorit test case set experi perform measur packet trip time channel priorit achiev highest prioriti channel pub schedul polici prioriti communic thread set sched fifo thread prioriti chosen higher process experi lower network interrupt prioriti packet prioriti correspond channel set high band test repeat network load correspond maximum bandwidth generat pub under communic protocol channel priorit repeat test combin tcp udp load measur channel fig report measur averag standard deviat packet trip time bar label qos channel priorit bar label normal protocol network load fig demonstr comparison publish pub pub machin produc outbound traffic congest network card general fig channel priorit produc lower averag determinist smaller standard deviat packet trip time remark network load maximum bandwidth notic case pub pub locat machin fig network load generat pub case traffic congest level network card driver consequ higher latenc packet deliveri time priorit measur channel bold arrow fig communic thread pub receiv higher prioriti oper system packet pub priorit band highest prioriti network queue push network physic layer packet pub fig demonstr second test case publish pub pub separ machin traffic congest occur network switch differ case pub push larger packet reason larger data packet creat higher traffic congest switch explain packet trip time measur experi higher previous case fig channel priorit great improv perform lower latenc network high load observ big differ packet trip time communic protocol reason tcp communic protocol bandwidth smart achiev lower latenc qos enabl network switch rout polici packet size messag transmit priorit channel compar differ communic protocol conclus articl describ novel approach integr prioriti qualiti servic publish subscrib middlewar approach specif communic channel priorit ensur best effort sens minimum messag deliveri time publish subscrib advantag approach simpli leverag oper system function real time thread schedul packet type servic bit deal typic bottleneck network congest local network addit approach requir central broker messag priorit reason appli peer peer publish subscrib architectur final investig paper allow remot dynam configur paramet control communic prioriti approach implement yarp open sourc middlewar evalu scenario demonstr improv jitter latenc messag deliveri presenc heavili load network approach distribut time critic applic futur work will investig mechan monitor reconfigur channel prioriti administr agent automat select optim priorit polici acknowledg lead receiv fund european union seventh framework programm ict grant agreement walkman refer almesberg linux network traffic control implement overview annual linux expo number lca conf almesberg salim kuznetsov differenti servic linux number lca conf almquist type servic internet protocol suit deng gan xiong ming gokhal aniruddha edward evalu real time publish subscrib servic integr approach qos enabl compon middlewar ieee intern symposium object compon orient real time distribut comput eugster felber guerraoui kermarrec face publish subscrib acm comput survey june gore pyarali gill schmidt design perform real time notif servic real time embed technolog applic symposium proceed rtas ieee ieee harrison levin schmidt design perform real time corba event servic acm sigplan notic mastrogiovanni paikan sgorbissa semant awar real time schedul robot ieee transact robot metta fitzpatrick natal long live robot gene elsevi nichol blake baker black definit differenti servic field field header ohl willert staadt distribut camera librari design telepres softwar engin architectur realtim interact system seari workshop march omg common object request broker architectur corba iiop technic report omg jan paikan metta natal port arbitr mechan behavior select humanoid robot intern confer advanc robot pardo castellot omg data distribut servic architectur overview distribut comput system workshop proceed intern confer ieee quigley gerkey conley faust foot leib berger wheeler ros open sourc robot oper system proc ieee intl conf robot autom icra workshop open sourc robot kobe japan raffin soar ball schmidt livingston staadt cluster virtual realiti ieee virtual realiti rehfeld tramberend latoschik actor base distribut model realtim interact system softwar engin architectur realtim interact system seari workshop march 