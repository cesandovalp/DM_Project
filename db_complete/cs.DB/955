gremlin graph travers machin languag marko rodriguez director engin datastax project committe member apach tinkerpop marko abstract gremlin graph travers machin languag design velop distribut apach tinkerpop project grem lin graph travers machin compos three interact ing compon graph travers set travers travers move graph instruc tion travers result comput ultim locat halt travers gremlin chine execut support graph comput sys tem oltp graph databas olap graph pro cessor gremlin graph travers languag function lan guag implement nativ program languag defin gremlin machin articl mathemat descript gremlin detail automaton function properti properti enabl gremlin nat ural support imper declar queri host languag agnostic user defin domain specif languag extens compil optim singl multi machin execut model hybrid depth breadth evalu well exist univers gremlin machin respect entail categori subject descriptor discret mathemat graph theori keyword graph travers finit automata function languag virtual machin introduct graph structur compos vertic edg graph resurg databas communiti growth graph databas technolog queri languag graph databas typic promot graph travers graph pattern match perspect travers model travers walk graph user provid instruct result travers locat halt travers pattern match model subgraph variabl cre ate user graph element bind variabl return result set gremlin support impera tive travers style declar pattern match style framework support pop ular model graph queri machin languag proceed acm databas program languag confer structur natur facilit gremlin embed host program languag extend user wish lever age terminolog problem domain optim extens set compil time rewrit rule execut multi machin comput cluster evalu depth breadth hybrid order final repres graph theoret exist univers gremlin machin graph travers machin gremlin graph travers machin compos three ponent graph data travers instruct set travers read write head conceptu collect tra verser move instruct comput complet longer exist travers exist travers longer erenc instruct halt result set empti set result set multi set union theg locat halt travers refer graph gremlin oper multi relat attribut digraph set vertic multi set direct binari edg partial function map element string pair object univers set exclud vertic edg allow properti valu vertex edg arbitrari number key pair call properti exampl vertic age latitud properti edg weight permiss properti univers set set properti valu valu restrict long doubl string subset schema graph con strain travers travers tree function call step step arrang way linear motif travers linear chain three step output travers input travers likewis output input nest motif travers nest travers argument step will leverag map input travers output travers provid input step defin map set travers locat object type set travers locat object type kleen star notat context interpret function denot multipl travers element map uniqu set travers uniqu set travers multi set union locat duplic gremlin graph travers languag defin step understood instruct set gremlin travers machin step practic typic appli major case provid step understood specif general type enumer map map function map travers object type set travers object type alter travers set size flatmap output travers set smaller equal larger input travers set filter filter travers input set retain remov output set sideeffect sideeffect ident function oper travers data structur typic mutat branch intern branch function map travers number nest travers start step step repres specif flatmap map set travers set travers instanc map flatmap simpli map travers singl travers filter flatmap includ origin input set travers remov flatmap mutat data structur sideeffect simul input travers set output travers set final branch simul ensur intern logic flatmap includ rule choos map travers state travers travers unifi graph travers refer object graph refer step travers formal travers element tupl set element tupl locat graph second element tra step locat travers third element sequenc set string object call label path exampl denot path respect step label locat element bulk denot number equival travers travers repres firth element sack local variabl tra verser sixth final element loop counter under host languag support lambda function lambdaverificationstrategi disabl user leverag common lambda parameter idiom function pro gram instanc user filter discourag provid lambda ject compil optim pure travers form loop type filter step graph locat travers oppos travers move vertic edg referenc arbitrari object associ graph properti key properti valu side data structur travers bulk fundament optim theoret requir specifi number time travers loop sequenc function project aforement compon travers respect valu map travers object locat graph map travers step locat travers program counter map travers label path histori graph map travers bulk map travers sack map travers loop counter visual travers bundl local variabl meta data project locat graph project locat travers graph travers languag gremlin graph travers languag function languag purpos languag enabl human user easili defin program gremlin machin simplic grammar enabl embed nativ program languag user develop discontinu softwar code graph analysi code order languag host gremlin languag support function composit function type function class entiti enabl function object method chain type function composit natur fluent syntax instanc travers denot dot notat syntax modern object orient program languag function argument travers nest instanc denot simpl travers basic graph travers move travers step sequenti order step maintain intern nest travers exampl travers simpl linear travers determin plain languag age oldest person marko assum sake simplic discuss vertex exampl graph uniqu marko valu age max term definit travers set biject travers written curri function notat max valuesag outknow hasnam marko start travers set process hasnam marko travers set return singl travers tinkerpop distribut gremlin machin implement gremlin languag bind groovi jvm ing host numer program languag wider tinkerpop muniti provid gremlin languag bind scala clojur rubi javascript conceptu gremlin machin vir tual machin implement java program numer ous java base program languag exist vertex name marko step outknow map marko vertex travers parent travers set children locat vertic outgo adjac marko vertex children graph locat travers step locat path concaten path current locat exampl child travers point will tupl valuesag marko label valuesag map travers set child travers locat integ current age properti final max transform singl travers number repres maximum number previous set oldest age flatmap hasnam marko filter outknow flatmap valuesag map max map note domain stepn equal rang stepn domain max rang step max block entir travers set requir input singl travers output notat denot barrier step reduc travers set singl travers binari oper call reduc barrier step gremlin travers set grow shrink cours comput travers set typic shrink filter step remov travers map flatmap partial function map ping undefin locat marko reduc barrier step travers set grow flatmap step gremlin travers furcat automata multipl option met option instanc travers singl vertex current step map adjac vertic outknow marko peopl travers split clone child adjac vertex modif child clone locat well label path step extens parent path languag discuss state set travers map step traver sal travers isol entiti maintain metadata state step function state type travers isol enabl evalu der chang point depth travers step breadth set travers step gremlin machin implementa tion dataflow stream construct simul breadth evalu point travers stream insert ident barrier step interpret func tion barrier branch travers branch gremlin split formal branchb branch function determin state intern travers travers follow will explain travers set shrink multipl travers arriv locat point travers merg singl travers respect bulk equal sum bulk merg travers set shrink logic number travers exist depend branch step travers tmay singl branch choos subset branch repeat emit branch union choos step branch step common program construct choos label option person creat count option softwar creat count option label travers travers incom choos person vertex send travers branch pute number project person creat travers softwar vertex send travers branch comput number collabor softwar project final travers locat person softwar vertex send travers branch yield label vertex option refer branch option valid option exist choos filter move option travers note option step step modul step modul syntact sugar manipul previous step order reduc complex modul argument respect function load choos take travers argument maintain intern nest travers travers label option key person form branch func tion choos step repres curri form chooselabel count outcreat label person count increat label softwar label note domain rang chooselabel chooselabel step choos accept number string worth note gremlin support compact syntax boolean base option person travers defin choos label person creat count label recurs travers exampl present travers move left sequenc step order support recurs loop set program counter step exampl step recurs function repeatp repeatp true bool travers predic increment loop counter reset loop counter travers return name vertic outgo step vertex name marko marko repeat time valu time step modul repeat step function alli defin suppos name vertic counter step walk eman vertex name marko name step marko repeat emit time valu travers loop emit recurs map note emit time step modul repeat emit emit path travers third compon travers tupl label path travers map locat locat well set label respect step append child path exampl assum travers path travers travers will start ver tex locat label step modul travers will split outgo adjac vertic partic ular child path assum path singl halt travers travers label path point travers element path path histori enumer situat determin shortest path vertex vertex previous locat travers determin locat visit term item repeat simplepath path limit will return shortest simpl loop path vertex vertex step modul repeat filter simplepath project travers previous subsect state nec essari previous locat path histori travers select count count travers reach select will vertic label path select step generat travers travers will ultim determin number incom adjac vertic vertex travers will determin number outgo adjac vertic vertex step modul speci fie travers travers travers curri function signatur selecta element map string long data structur program definit selecta function selecta count inknow count outknow step select save filter travers base label path travers select vertic matern sibl wherea inmoth outmoth travers mother mother select count count syntax syntact sugar select central travers graph complex structur difficult reason dimension form order extract meaning graph numer statist develop main graph theori network scienc graph stati tic map dimension graph lower dimension space typic reduct dimension space instanc sizev dimension statist map graph number vertic graph central dimension graph statist general defin function map graph vector central score vertex central measur identifi rep resent connect influenti vertic graph eigenvector central central formal defin prob abil vertex will host random walker random point time descript repres linear algebra equat adjac matrix graph eigenvector compon chang iter scalar eigenvalu graph connect aperiod larger central graph equat express solv gremlin travers repeat groupcount time cap groupcount side step defin groupcountm time travers arriv groupcount vertex loca tion index map map vertex long key vertic valu number time vertex encount thirti iter provid typic larg ensur converg natur graph repeat time replac calcul valu reach steadi state dis tribut requir compar unit vector itera tion nwith iter sake simplic comput left reader deduc step cap suppli barrier step take take incom travers emit singl travers function incom set function side data structur case singl travers emit capm mutat travers exampl present read graph written gremlin collect graph mutat step add remov vertic edg properti outlin addout sideeffect map addin sideeffect map addv sideeffect map properti sideeffect drop sideeffect map travers mutat graph add invers createdbi edg creat edg second move origin creat edg creat addout createdbi out creat drop declar travers gremlin support graph pattern match analog spect sparql primari benefit pattern match encompass singl step grem lin languag move declar pattern match imper travers travers definit pattern match express method multipli vector initi set adjac matrix reach fix point call power iter method result converg guarante primari eigenvector largest eigenvalu defin growth rate subsequ iter apach gremlin implement growth rate play role understand bulk travers will overflow bit long represent travers gremlin travers machin con struct present match argument set travers pattern nest travers enter match will propag pattern travers continu step match guarante label path valu bind equal prefix postfix variabl match travers pattern match creat creat count creat father dedup select travers will return vertic creat piec softwar collabor peopl caveat collabor father match match bindb outcreat match count increat match bindc increat match bindc outfath bindx match step recurs defin branch step pattern branch guarante hidden path label append label path enter branch pattern prefix label pattern exist path prior travers branch equal complet pattern travers postfix label histor locat equal current locat travers deem match filter postfix label exist path travers variabl bound subsequ pattern travers exit match step pattern label path surviv travers lie match variabl respect bind order match pattern execut match step implement caveat pattern select criteria respect pattern prefix variabl pattern readi exist label path travers gremlin implement match algorithm call greedymatchalgorithm countmatchalgorithm simpli find pattern user provid list meet respect constraint execut pattern lat ter maintain pattern dynam multipl variabl equal number travers output pattern vide number travers input pattern continu sort pattern favor lowest multipl favor pattern yield largest set reduc tion domain specif travers gremlin travers machin support step instruct set step deem travers algorithm gremlin travers languag correspond step align fact gremlin languag graph specif languag forc user process data graph perspect vertic inv edg out properti valu typic practic graph structur repres problem domain best model graph domain con cept vertic edg understood peopl social relationship exampl trivial user defin main specif languag compil generat travers term gremlin step instanc exampl graph hypothet social travers languag allow domain specif queri express name marko well peopl creat softwar name step composit gremlin step haslabel person name marko marko ident well out weight inv creat softwar creat haslabel softwar ident name valu user express queri languag domain gremlin ultim evalu queri term under ing graph structur repres domain travers strategi travers execut step function defin step sequenc express effici execut gremlin travers strategi defin translat rewrit section travers typ ical semant origin travers travers strategi categori form total order strategi evalu prior move categori prior travers execut fur thermor categori strategi form partial order strategi requir execut strategi fore execut decor rewrit travers step serv syntact placehold optim rewrit travers step sequenc express effici form vendor optim rewrit travers step sequenc express effici form under graph system final final adjust travers final compil form verif analyz travers ensur valid set constraint item present subset provid travers strategi demonstr rewrit rule exampl rewrit rule repres left hand pattern match rewritten hand pattern conjunctionstrategi decor gremlin support prefix infix notat logic connector infix notat convert respect prefix base repr sentat incidenttoadjacentstrategi optim travers touch incid edg vertex adja cent vertic execut step requir analysi incid edg simpli jump adjac vertic manifest respect incid edg inv otherv adjacenttoincidentstrategi optim travers check exist adjac vertic typi calli cheaper manifest incid edg count count out ine out identityremovalstrategi optim travers main tain ident step remov ident step fold modul previous step filterrankingstrategi optim filter step remov retain travers sequenc filter step reorder cheaper filter execut hope yield larg set reduct prior execut ing cost filter note order consid filter sort remov travers dedup order rangebyiscountstrategi optim travers determin number element exist count full set limit count requir number count easi vendor user regist travers strategi gremlin compil typic vendor graph system maintain optim access custom interfac situat vendor will write custom step travers strategi replac gremlin step sequenc vendor specif step true distribut gremlin vertex vertex partit maintain direct refer properti incid edg properti adjacenttoincidentstrategi left hand pattern wast network bandwidth travers adjac vertic count xgraphstepstrategi vendor optim graph databas vendor typic maintain indic properti vertic edg graph order avoid linear cost fold step vendor spe cific step order facilit log index base lookup matchpredicatestrategi optim match fol low step fold step match branch pattern base pattern subject match xmatchalgorithm runtim timiz match maintain base pattern prefix variabl input variabl pull pat tern match vendor respect lookup xgraphstepstrategi match profilestrategi final user met ric perform termin profil step serv place holder insert profil step step travers profil metric main tain side data structur computerverificationstrategi verif singl machin gremlin oltp flexibl type travers execut travers execut multi machin comput cluster olap travers sequenc allow time advanc distribut gremlin machin respect verif will remov cord error error distribut graph travers graph comput travers machin design port distribut execut gremlin travers bulk synchron parallel bsp model distribut comput graph base bsp vertex logic processor receiv messag typic adjac neighbor updat state current state receiv messag send messag typi calli adjac neighbor process continu messag result comput distribut state vertic score properti vertex gremlin vertic receiv travers mes sage execut travers step identifi travers generat send messag respect ver tex referenc travers halt vertex save halt travers hidden vertex properti process continu tra verser cluster aggreg locat halt travers vertic graph result comput graph partit cluster travers migrat machin dictat instanc travers refer edg messag vertex maintain edg travers refer object travers remain current vertex locat requir gremlin graph comput machin oper multipl physic machin requir under graph system provid logic partit vertic denot three vertex partit partit compos uniqu set vertic respect incid edg travers locat travers will exist machin suppos step appli generat travers will serial network machin execut travers will remain machin execut referenc step model distribut graph travers advantag creat partit reduc cost inter machin communic gremlin graph comput machin execut breadth manner travers vertex oper par allel graph larg number travers ili grow exponenti repeat map ping exampl lattic vertic edg travers topleft repeat time will ultim yield billion travers bottom vertex general equat number travers nxn lattic number travers grow exponenti number travers locat bound size lattic travers upper bound gremlin bulk take advantag travers locat relat project exponenti grow travers set travers set constrain upper limit result lossless compress lattic exampl result travers set travers bulk travers bulk respect equival class compon tupl equal travers respect bulk travers reduc singl travers enumer travers travers count travers exist equival class bulk ensur breadth gremlin larg graph olap requir exponenti amount memori optim leverag depth gremlin oltp barrier step lazybarrierstrategi barrier barrier vertex partit direct remot refer properti incid edg incid edg properti travers requir label path full label path travers practic label path requir help ensur smaller number equival class greater likelihood bulk note label path consid typic number equival class grow proportion number uniqu path grow exponenti broad filter travers minim gremlin travers machin gremlin graph travers machin automaton automata studi comput scienc understand minim struc tural behavior requir abstract chine perform type comput physic built model machin power simul behavior automata theori comput rep resent problem languag transduct languag compos alphabet charact string languag input string automaton produc automaton requisit comput power form addit assum general stand ture machin minim abstract machin requir general purpos comput turn machin mechan algorithm comput restrict form turn machin solv simpler problem instanc finit state automaton program process regular languag answer regular express exampl finit state automaton program map aab aaab true type languag minim gremlin chine process provid tabl minim gremlin machin reduct element tra tupl structur reduct set step program gremlin simul tur ing machin well power automata instruct set minimum support valu properti sack choos repeat automaton minim gremlin machin languag finitest properti regular pushdown contextfre ture recurs ture complet subsect defin surject function imag full gremlin travers machin isomorph singl head ture machin aforement compon gremlin map compon tupl ture machin set machin state set legal halt state readabl writabl alphabet initi input infinit dimension tape cell transit function updat state determin symbol write current tape cell left tape machin deem ture complet simul afor mention singl head ture machin machin program execut algorithm theorem gremlin graph travers machin ture plete proof gremlin travers machin tape infinit graph vertex incom neighbor outgo neighbor symbol properti initi symbol symbol properti valu consecut chain vertic graph vertex repres cell ture tape respect input symbol ture machin state sack assum exist gremlin step valuessymbol map read tape propertysymbol sideeffect write tape sack map read state sackq sideeffect write state choos branch repeat branch loop map move left map move function ture machin composit step creat note step map travers set size step true flatmap filter left adjac neighbor vertex graph step will increas decreas size travers set singl head ture machin simul exampl state busi beaver ture machin fine halt gremlin travers sack repeat choos valu symbol option choos sack option properti symbol sack option properti symbol sack option properti symbol sack option choos sack option properti symbol sack option properti symbol sack option properti symbol sack halt sack halt univers gremlin machin univers gremlin machin ugm gremlin machin simul gremlin machin construct encod follow will repres step repres vertex label step oper step step exist edg label nextstep travers repres vertex label travers element tupl subgraph edg label edg label psi label step collect edg vertic join step label vertex properti graph locat travers bulk properti bulk travers sack properti sack complic exist nest travers sake breviti general represent travers left reader contempl travers loop counter properti loop aforement map repres graph total complet represen tation structur graph process travers tra verser comput represent execu tion order graph structur evolv comput exist univers gremlin machin travers respec tive travers move travers updat respect edg properti tra verser encod travers travers form virtual machin univers gremlin machin snippet present support step repres option haslabel travers repeat choos psi valu option out drop inv addin option out drop inv addin option option sideeffect select drop drop select out psi drop inv nextstep addin psi sideeffect select drop drop select psi count travers loop repeat travers encod travers halt longer referenc step vertex result comput multi set union symbol tape subgraph formal result symbol label travers step order provid univers gremlin machin oper ate encod gremlin machin maintain level express gremlin travers machin discuss articl extend travers account grow shrink encod travers set well step instruct set parallel univers encod machin assum point travers refer step prevent multi ple travers set exist set oper travers fact encod machin nece sari allow parallel concurr travers queri respect encod machin univers gremlin machin concern travers travers execut fact univers gremlin machin simpli find travers halt execut step univers gremlin machin act thread evolv state travers program order well fine result set travers uniqu identifi append travers result travers unambigu gather label travers psiid psi final prevent multipl univers gremlin machin erat parallel locat activ travers execut ing step travers exist travers halt fact analog multi thread system travers gremlin travers machin graph travers travers set encod compon gremlin travers chine exist address space consequ locat travers principl travers structur travers travers travers machin direct refer represent machin analyz reflect rewrit ramif consequ respect appli graph comput left futur rumin primordi graph travers machin describ high level vision graph comput ing way analog token rewrit model lambda calculus lossless inject function take multi relat attribut digraph madg multi relat unattribut digraph mdg edg reifi structur properti properti key label edg incid prop erti vertic exist inject function map multi relat digraph unlabel digraph label encod binari vertex chain final inject function defin map digraph undirect graph edg direct repres topolog featur undirect form madg mdg exist map complet state pute repres singl undi rect graph structur sole composit dot line dimension space primit verbos graph label string number simpli dot con nect line comput occur subgraph shape travers locat graph morph form subgraph shape tra verser graph locat comput manner conceptu chemic reaction molecular struc ture undirect subgraph interact adjac structur yield structur elicit reaction primordi comput complet vertic edg longer creat destroy undi rect graph reach equilibrium law physic problem solv reach stabl state conclus gremlin graph travers machin languag gremlin machin specif simpl describ ultim impl ment complex comput gremlin enabl construct data set process graph multi dimension structur model heterogen set thing heterogen set way singl connect data structur gremlin travers evalu graph billion bil lion travers generat small graph exponenti growth number path exist step travers fork road travers con tinual split order explor option meet constraint travers obey travers timat halt provid answer question travers program user gremlin travers languag acknowledg apach tinkerpop project http start novemb current third generat develop releas juli individu contribut project wider ecosystem year contribut theoret appli invalu generat idea present articl refer angl gutierrez survey graph databas model acm comput survey februari issn brand erlebach editor network analysi methodolg foundat springer berl bro cheler puglies subrahmanian budget base algorithm effici subgraph match huge net work workshop proceed intern con ferenc data engin url http icdew church unsolv problem elementari number theori american journal mathemat april dittrich fenizio chemic organis theori bulletin mathemat biolog issn url http ggstro finit markov chain algorithm applic cambridg univers press hartig reconcili rdf properti graph technic report univers waterloo url http hopcroft ullman introduct automata theori lan guag comput addison wesley lee park dataflow process network proceed ieee issn mccune wening madey think vertex survey vertex centric framework larg scale distribut graph process acm comput survey seaborn sparql queri languag rdf technic report wide web consortium octob url http org rdf sparql queri rodriguez grammar base random walker semant net work knowledg base system url http rodriguez map semant network undi rect network intern journal appli mathemat comput scienc februari url http rodriguez emerg web intellig advanc seman tic technolog chapter general purpos comput semant network substrat advanc knowl edg process springer verlag june isbn url http rodriguez rdf virtual machin knowledg base system august url http rodriguez shinavi expos multi relat network singl relat network analysi algo rithm journal informetr url http shinavi function program link data workshop script semant web innsbruck austria ture comput number applic entscheidungsproblem proceed london mathemat cieti valiant bridg model parallel comput communi cation acm august 