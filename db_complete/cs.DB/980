object weight sampl edith cohen googl mountain view usa edith abstract key data set form preval common queri data segment statist segment key function choic correspond count sum moment cap threshold statist data set larg comput smaller sampl estim statist weight sampl key respect estim statist guarante qualiti statist sampl estim statist qualiti degrad dispar paper address applic requir qualiti estim set function naiv solut comput work sampl achiev effect seamless singl multi object sampl smaller size review multi object sampl scheme place context estim statist multi object sampl qualiti estim posit linear combin function establish surpris power result target set monoton decreas function note includ natur statist provid effici multi object sampl algorithm sampl size lnn number activ key estim qualiti dedic weight sampl size introduct random sampl power tool work larg data set exact comput simpl statist larg data time resourc consum small sampl data approxi mate answer comput effici consid data repres set key pair key univers interest segment statist general form function satisfi key univers key explicit occur data set defin exampl data set flow key byte segment correspond combin port sourc destin user activ segment demograph locat user exampl common statist count sum threshold thresht thresht moment cap capt min exampl consid toy data set segment sum count moment data larg comput altern term select literatur term domain statist literatur small sampl data estim statist classic weight sampl scheme poisson probabl proport size pps varopt bottom scheme sequenti poisson prioriti pps replac ppswor produc sampl optim function achiev sampl key probabl rough proport estim sampl nonneg unbias segment function provid statist estim statist guarante qualiti error measur coeffici variat standard deviat divid invers squar root size sampl multipli fraction weight segment refer guarante gold standard optim tradeoff error sampl size segment weight estim statist function sampl optim qualiti guarante degrad dissimilar analyt data typic util set statist cap threshold moment function paramet seek statist guarante estim qualiti naiv solut comput multipl sampl object appropri sampl queri solut larger represent obtain estim qualiti seek multi object sampl estim respect set function statist guarante qualiti minim size sampl need meet qualiti requir object multi object sampl defin colloc model draw vast literatur sampl coordin coordin sampl form local sensit hash weight data set sampl respect function comput share random sampl function multi object sampl defin union key coordin weight sampl estim appli util full includ dedic weight sampl estim qualiti statist good review weight sampl corr spond estim focus pps bottom sampl review multi object pps bottom sampl present context statist establish fundament properti multi object sampl set object defin sampl closur function estim qualiti weight sampl respect closur includ negat linear combin function consid famili monoton decreas function famili includ natur statist exampl count sum threshold moment cap infinit ineffici appli generic multi object sampl algorithm comput effici linear sampl scheme appli stream distribut data establish bound sampl size lnn number key data set refer size singl object sampl design base surpris relat distanc sketch establish key weight uniqu sampl size lnn meet object intuit hard stem support threshold function studi set capt cap function closur includ concav linear growth satisfi multi object sampl includ estim statist guarante special sampl smaller design effici algorithm comput sampl weight sampl singl object describ detail weight sampl scheme optim statist function sampl size paramet determin tradeoff point represent size estim qualiti poisson probabl proport size pps paramet pps sampl includ key independ probabl min exampl tabl pps sampl probabl round nearest hundredth key exampl data set three function sum number parenthesi total sampl probabl high vari function key sum bottom order sampl bottom sampl unifi prioriti sequenti poisson pps replac ppswor sampl bottom sampl associ random key ppswor sampl prioriti sampl bottom sampl key minimum seed seed support estim retain threshold smallest seed estim estim statist weight sampl respect weight appli invers probabl estim nonneg unbias function satisfi ensur key sampl posit probabl appli estim comput pps sampl includ sum auxiliari bottom sampl inclus probabl key invers probabl estim condit probabl key fix random key sampl seed kth smallest seed key kth smallest seed key note prux ppswor min prioriti sampl estim qualiti measur estim qualiti coeffici variat ratio standard deviat upper bound estim term expect sampl size relat weight segment defin express bound estim statist weight sampl respect defin dispar max max dispar satisfi equal scale equal upper bound theorem pps sampl estim bottom sampl replac proof standard pps provid ppswor prioriti sampl proof ppswor provid theorem full version proof pps simpler subset argument proof prioriti general estim weight sam ple concentr chernoff hoefd sens probabl relat error exceed drop exponenti drop exponenti comput sampl consid data present stream distribut element form key pair weight defin key data properti sampl bottom pps compos mergeabl mean sampl union data set comput sampl data set compos facilit effici stream distribut comput sampl algorithm random hash function appli key generat seed valu comput fli store bottom sampl permit key occur multipl element case defin maximum element key sampl set element uniqu key smallest seed smallest seed sampl union idi replac multipl occurr key largest return key smallest seed smallest seed pps sampl requir element uniqu key sampl includ total sum sampl pair sampl union sum retain key satisfi multi object sampl object pair function specifi desir estim qualiti statist state term qualiti provid singl object sampl size paramet simplifi notat omit clear context inform consid share random dedic sampl object defin multi object sampl includ key includ dedic sampl pps multi object sampl key includ independ probabl min max kff max maximum object pps inclus probabl object exampl object sum data set probabl exampl expect size naiv solut maintain separ sampl object total expect size note sampl sum expect size expect size estim statist appli invers probabl estim probabl definit key varianc appli comput probabl includ auxiliari sum bottom multi object sampl sampl defin respect random dedic sampl includ lowest seed comput includ key lowest seed estim statist bottom appli invers probabl estim condit inclus probabl key probabl includ fix sampl note maxf defin order comput probabl includ sampl set auxiliari key set small empti precis key arg maxf object forgiv threshold key smallest seed defin auxiliari key final comput inclus probabl comput smallest seed key maxf prioriti exp maxf ppswor correct comput note includ threshold key dedic sampl definit ensur verifi random assign varianc estim appli bottom sampl summar statist guarante estim qualiti multi object sampl theorem invers probabl estim appli multi object pps sampl min estim appli multi object bottom sampl guarante replac sampl size comput worst case size sum size dedic sampl materi exampl function posit disjoint subset key space smaller typic case function consid data present element uniqu key assumpt structur function comput appli function element impli bound comput comput perform log time identifi key smallest seed properti multi object sampl compos union singl object sampl compos hard appli auxiliari key set auxiliari key compos sampl subset sampl auxiliari key compon sampl includ state stream distribut comput sampl closur defin sampl closur set function set function estim meaning defin closur assum object share size paramet notat respect multi object sampl closur negat linear combin function theorem proof consid pps sampl establish stronger claim equival key function notat recal min consid case complet proof suffic establish suppos wlog conveni denot write max max proof multi object bottom sampl involv defer full version note multi object bottom sampl includ bottom sampl bound univers sampl monoton statist consid infinit set monoton decreas function object remark multi object bottom sampl refer univers monoton sampl comput effici larger singl dedic weight sampl logarithm factor number key theorem consid data set key univers monoton bottom sampl expect size lnn comput log log oper thresh set threshold function recal thresht thresht studi multi object bottom sampl thresh size sampl express inclus prob abil thresh estim establish thresh bottom sampl thresht set key smallest key set key multi object sampl thresh thresht key multi object sampl thresh bottom sampl threshwx lemma fix key thresh threshwx proof consid posit order key induc thresht seed claim key thresht seed thresht seed hold claim establish separ consid claim impli minim consid auxiliari key associ sampl recal key technic sampl need order comput condit inclus probabl thresh note lemma key thresh threshwx key set key weight key kth smallest auxiliari key key includ sampl probabl defin largest weight condit includ uyx comput inclus probabl thresh fewer key weight thresh correct note case key weight observ key smallest key comput sampl thresh uyx note weight uniqu definit thresh equival distanc sketch comput respect weight invers distanc appli algorithm analysi thresh lnn size well concentr expect argument simpl consid key order decreas weight probabl ith key smallest valu member thresh min sum expecta tion key min lnn observ thresh theorem notic express negat combin threshold function thresht function establish stronger relat thresh bound asymptot tight weight uniqu repeat weight sampl size smaller lemma data set random generat sampl thresh proof consid sampl fix random key suppos key bottom sampl definit seed smallest seed key smallest seed set key monoton impli smallest smallest impli threshwx estim qualiti estim condit inclus probabl general hip estim sketch pute uniqu weight theorem impli weight uniqu estim statist key tighter bound sampl algorithm sampl includ auxiliari posabl compos hold allow multipl element key interpret maximum weight element key random hash function generat consist multipl element key compos multipl sampl union element replac multipl element key maximum weight appli sampl algorithm set remain element updat inclus probabl comput compos sampl algorithm comput sampl auxiliari key inclus probabl algorithm process element order decreas order increas order suitabl applic worthwhil context distanc sketch order distanc algorithm correct appli set element includ recal inclus probabl kth smallest key key weight inclus probabl conveni express probabl function weight algorithm process key order decreas weight break tie increas maintain max heap sampl repeat weight subset sampl tie break sampl size time number uniqu weight univers monoton sampl scan weight initi empti max heap size smallest valu process ptau omit uniqu weight decreas increas order insert continu max max sampl ptau max prevw delet max insert ptau prevw smallest valu process process current key includ max includ delet max insert correct smallest valu key weight weight uniqu probabl kth largest insert weight uniqu comput track previous max call ptau current key max ptau includ easi verifi case note algorithm overwrit multipl time key weight insert sampl algorithm process key order increas algorithm maintain min heap largest weight process uniqu weight current key includ sampl min includ delet heap key weight min insert weight uniqu track weight previous remov key process key min prevw insert comput inclus probabl uniqu weight key process trigger delet key weight establish correct consid set delet construct key weight smallest valu maxi process key increas maximum insert key key trigger remov final key remain largest weight algorithm correct assign key multipl key weight minimum maxi key weight evict minimum key sampl minimum realiz key key includ algorithm set process set key weight delet algorithm correct assign maxi key process set remain key key weight delet key assign analyz number oper algorithm cost process key key insert log key includ sampl bound sampl size bound lnn log process cost sort requir log comput domin comput typic assign random generat sort order time enabl faster log log comput algorithm univers monoton sampl scan min heap size priorit lex order key largest prioriti process prevw increas order insert continu argminz min weight key largest add sampl prevw prevw prevw delet insert prevw key largest weight lower bound sampl size worst case factor lnn size univers monoton sampl sens suffic threshold function theorem consid data set key uniqu weight sampl scheme nonneg unbias timat thresht thresht sampl expect size lnn will lemma relat estim qualiti sampl probabl lemma consid sampl scheme unbi ase nonneg sum estim key sampl probabl proof consid segment singl key best nonnega tive unbias sum estim estim key includ probabl estim requir qkqk complet proof theorem consid key ith heaviest weight appli lemma threshwx sum sampl probabl key bound expect sampl size lnn univers cap sampl strict subset monoton function set capt cap function studi multi object bottom sampl refer univers cap sampl theorem closur includ function form capt set decreas concav function linear growth satisfi dfdw sampl comput log log operaion superset key start properti will design sampl algorithm key number key number key key fix assign key posit capt seed list valu capt seed function properti lemma key minim decreas increas proof verifi key capt seed capt seed capwx seed capwx seed set valu capt seed capt seed interv establish claim separ consid case corollari key univers cap sampl bottom sampl capwx corollari fix key capwx lemma fix assign proof lemma key bottom capt sampl bottom sampl capwx key lower capwx seed count count key capwx fewer key lower capwx seed refer key univers monoton sampl satisfi weaker condit lemma key auxiliari proof key auxiliari set kth smallest capwi seed key smallest capwi seed number key seed smaller seed minim capwx seed smallest includ sampl auxiliari smallest seed sampl algorithm readi sampl algorithm process data multipl element key replac maximum weight step identifi key suffic comput data auxiliari key appli variant algorithm process key order decreas weight break tie increas rank maintain binari search tree size lowest valu process key process max key remov posit insert max remov consid key note expect lnn key algorithm comput key scan key order increas weight track binari search tree structur smallest valu process max posit delet max insert key constitut sampl key retain auxiliari final perform pass sampl auxiliari key key determin smallest capwx seed capwx corollari comput capwx time determin precis set auxiliari key remov smallest seed capwx size sampl contain smaller intuit key ident weight relat seed true threshold weight thresht seed lower higher weight key relat lower equal probabl bound depend maxx minx proof consid set key maxx wxminx expect number key bottom capt seed claim partit key maxx wxminx group weight group vari factor notic bottom group subset union bottom set group prove claim denot smallest set key bottom sampl cap minx consid key lemma capwi condit minx probabl minx minx expect number key satisfi condit conclus review multi object sampl scheme provid statist guarante estim qualiti multipl objec tive minim total size sampl studi famili monoton decreas function cover natur summari statist provid effici multi object sampl algorithm sampl size larger logarithm factor need sampl optim singl function futur hope explor multi object sampl data present unaggreg model data multipl element key weight interpret sum weight element key sampl unaggreg data aggreg appli sampl scheme design aggreg data aggreg stream distribut data requir state memori communic size proport number uniqu key number larg aim sampl aggreg state size proport sampl size propos sampl framework cap statist hope extend insight gain work refer alon matia szegedi space complex approxim frequenc moment comput system sci boldi rosa vigna hyperanf approxim neighbourhood function larg graph budget brewer earli joyc select sampl singl popul australian journal statist chao general purpos unequ probabl sampl plan biometrika cohen size estim framework applic transit closur reachabl comput system sci cohen distanc sketch revisit hip estim massiv graph analysi tkde cohen stream sampl frequenc cap statist kdd acm full version http cohen duffield lund thorup kaplan effici stream sampl varianc optim estim subset sum siam comput cohen kaplan summar data bottom sketch acm podc cohen kaplan tighter estim bottom sketch proceed vldb confer cohen kaplan sen coordin weight sampl estim aggreg multipl weight assign vldb full http duffield thorup lund prioriti sampl estim arbitrari subset sum assoc comput mach feller introduct probabl theori applic volum john wiley son york flajolet martin probabilist count algorithm data base applic comput system sci horvitz thompson general sampl replac finit univers journal american statist associ kish scott retain unit chang strata prob abil journal american statist associ ohlsson sequenti poisson sampl offici statist ohlsson coordin pps sampl time intern confer establish survey american statist associ palmer gibbon faloutso anf fast scalabl tool data mine massiv graph kdd rose asymptot theori success sampl vari probabl replac annal mathemat statist rose asymptot theori order sampl statist plan infer saavedra fix sampl size pps approxim perman random number proc survey method alexandria american statist associ szegedi dlt prioriti sampl essenti optim proc annual acm symposium theori comput acm till sampl algorithm springer verlag york appendix theorem consid ppswor sampl respect weight estim comput segment proof adapt proof techniqu build simplifi notat total weight popul consid varianc invers probabl estim key weight condit threshold notat estim seed seed seed var max relat consid varianc estim kth smallest seed denot distribut will bound varianc estim relat var bxvar distribut kth smallest indepen dent exponenti random variabl paramet properti exponenti distribut minimum seed exponenti distribut param eter differ minimum second smallest exponenti distribut paramet weight key minimum seed distribut condit order set smallest seed key sum exponenti random variabl paramet distribut convex combin distribut notat densiti function erlang distribut erlang sum independ exponenti distribut paramet distribut domin erlang bound condit varianc var increas domin impli bxvar erlang var var upper bound erlang densiti function kzk relat zae bzdz bound varianc var var kzk max max wzdz max definit covari anc key var var maxw var max max max 