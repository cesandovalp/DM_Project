column orient datalog materi larg knowledg graph extend technic report jacopo urbani dept comput scienc univers amsterdam amsterdam netherland jacopo ceriel jacob dept comput scienc univers amsterdam amsterdam netherland markus krötzsch faculti comput scienc technisch universität dresden dresden germani abstract evalu datalog rule larg knowledg graph kgs essenti applic paper method materi datalog infer combin column base memori layout novel optim method avoid redund infer time pro activ cach subqueri creas effici empir evalu approach match surpass perform state art system restrict resourc introduct knowledg graph kgs industri academia repres larg collect structur knowl edg type graph reli simpl high normal data model uniform repres divers sourc web promin format rdf cyganiak wood lanthal larg kgs callahan cruz toledo dumonti dbpedia bizer wikidata krötzsch yago hoffart publish format great potenti kgs abil con nection liter sens heterogen incomplet data sourc infer implicit informa tion kgs essenti applic ontolog reason data integr infor mation extract rule base languag datalog offer common foundat infer abit boul hull vianu datalog rule simpl type rule recurs natur make power infer task captur framework includ type ontolog reason common rdf datalog excel lent basi exploit kgs full implement datalog inferenc ing larg kgs remain challeng task worst case time polynomi size tractabl principl huge kgs difficult manag prefer approach materi pre comput infer modern dbms oracl extend version eponym paper publish aaai urbani jacob krötzsch owlim materi kgs edg time rang ing half hour day kolovski eadon bishop prototyp marvin oren mpi weaver hendler webpi urbani dynamit bani achiev scalabl parallel dis tribut comput requir hardwar resourc urbani high chine materi edg hour addit system support frag ment owl ontolog languag sume datalog simpler motik present complet proach problem system rdfox exploit fast main memori comput parallel process groundbreak insight work approach allow process mid size kgs commod machin open field memori dat alog system motik present vancement inspir proach memori datalog materi goal reduc memori consumpt enabl larger kgs process simpler comput propos maintain infer hoc column base storag layout contrast tradit row base layout data tabl repres list tupl row column base approach tupl column list enabl effici join idreo effect simpl data compress scheme abadi madden ferreira advantag set compar high cost updat column base data structur abadi key challeng technolog dat alog materi frequent insert larg num ber newli deriv infer process deed best knowledg materi proach columnar data structur main contribut design novel column base data structur memori datalog materi memori effici design organ infer rule infer step develop novel optim techniqu reduc amount data consid materi introduc memoiz method russel norvig cach select subqueri proactiv improv perform procedur optim evalu prototyp implement approach evalu approach signifi cant reduc amount main memori need terial maintain competit runtim allow materi fair larg graph commod hardwar evalu optim con tribut result proof claim paper appendix preliminari defin datalog usual detail textbook abiteboul hull vianu assum fix signatur consist infinit set constant symbol infinit set predic symbol infinit set variabl symbol predic associ ariti term variabl constant symbol term variabl constant express denot finit list entiti atom express fact variabl free atom databas instanc finit set fact rule express form head bodi atom respec tive assum rule safe variabl occur program finit set rule predic occur head rule call inten sional idb predic predic extension edb idb predic appear databas rule idb predic bodi linear substitut partial map applic atom rule defin usual set fact rule defin fact program defin shortcut set materi materi finit fact logic consequ knowledg graph encod rdf data model cyganiak wood lanthal rep resent label graph set tripl form subject properti object technic detail relev schema rdf graph express owl web ontolog languag owl reason complex general standard offer three lightweight profil simplifi task owl reason captur datalog three case krötzsch implicit translat path queri bischoff simplest encod rdf data datalog ternari edb predic tripl repres tripl simpl datalog program run exampl tripl invers invers invers haspart haspart haspart infer tripl idb predic initialis rule rule extract rdf encod owl state ment declar properti invers rule appli deriv invert tripl final rule typic transit rule rdf properti haspart abbrevi haspart partof consid databas tripl tripl tripl iter appli rule deriv step superscript indic rule produc fact invers fact infer exampl appli rule yield duplic previous infer semi naiv evalu goal comput materi variant well techniqu semi naiv evalu sne abiteboul hull vianu base fine grain notion deriv step step algorithm appli rule fact deriv fair rule will appli arbitrarili differ standard sne rule appli parallel step write rule rule appli step set fact predic deriv step note head predic rule number defin set fact deriv step consid rule idb predic edb predic naiv appli step comput evalu rule tmpp set tmpp comput previous infer step appli assum rule evalu step restrict evalu rule tmpp set fact predic common abus notat explain sne abiteboul hull vianu step rule step rule step rule step rule step rule invers haspart partof figur storag layout column base materi tmpp union set fact deriv rule defin tmpp hard rule form consid combin fact consid rule call procedur rule step variant sne procedur termin rule appli step deriv fact theorem input databas instanc fair applic strategi rule rule step variant sne termin step result sne avoid redund computa tion exampl strategi appli rule will lead deriv rule infer will consid applic second sne variant tmpt invers rule lead deriva tion fact duplic deriv place column orient datalog materi variant sne high level materi izat procedur turn effici algorithm column base storag layout describ algorithm distinguish data structur store initi knowledg graph edb layer store deriv idb layer illustr fig materi process access con junctiv queri edb layer well way implement effici neumann weikum focus idb layer work inspir column base databas idreo altern tradit row base databas effici store larg data volum superior formanc analyt queri compens lower perform data updat structur idb layer column base layout avoid frequent updat achiev store set infer produc deriva tion separ column orient tabl tabl creat appli rule step modifi store data rule applic step number rule tabl block separ list block idb predic set fact deriv idb predic union content tabl list block figur illustr scheme data comput run exampl columnar tabl sort extend der integ indic constant tupl integ natur lexicograph order tupl column fulli sort second column con caten sort list interv tupl agre compon column press length encod rle maxim sequenc repeat constant repres pair abadi madden ferreira approach enabl valuabl space save memori comput order tabl improv compr sion rate rule constant head lead constant column occupi memori column edb relat repres queri retriev valu edb layer copi valu final infer enc rule simpli copi data predic defin subclass relationship share column object memori alloc space valuabl time save sort tabl merg join effici type join sort relat compar singl pass enabl effici set time dupli cate elimin implement perform outer merg join newli deriv result tmpp pre viousli deriv tabl separ tabl elimin cost insert time enabl effici bookkeep record deriv step rule produc infer step need implement sne separ infer rule enabl optim obvious difficulti approach evalu sne rule find answer bodi view conjunct queri achiev comput join join edb predic comput effi cientli edb layer redb denot lation proceed left pute redb storag scheme store second relat block comput redb expens empti block rang reduc cost perform demand concat nation tabl comput join consolid singl data structur structur hash tabl fulli sort tabl rule engin decid heurist hash merg join case advantag columnar layout concat nate column need join singl col umn join perform gain tailor data structur justifi cost demand concaten delet auxiliari structur join approach union idb tabl need join expr sion refer empti block case work direct data optim aim exclud empti block join describ dynam optim storag layout effect block fact tabl consid appli rule will demand concaten simpler plete obsolet advantag approach exclud individu block appli rule base time three optim techniqu goal precis case assum perform deriv step appli rule form step step appli consid version sne rule separ start gather idb atom bodi relev rang empti tabl oqk record rule rule creat tabl step mismatch rule reason exclud oqk join head rule unifi occur distinct constant symbol atom case clear idb fact oqk contribut match safe remov list block consid bodi atom exampl rule ignor infer rule constant haspart match appli optim head rule unifi bodi atom exploit infor mation contain partial comput join left simplifi notat write redb redb denot relat join edb atom comput ari join appli nari join left decis block includ comput relat redb relat yield possi ble instanti variabl occur term view set partial substitut lead match rule notat result theorem atom unifi head rule result remain replac relat oqk turn static optim techniqu dynam data driven optim static approach requir mismatch rule instanti namic version consid subset guarante actual match idea appli optim well case impl mentat decid cost check larg number partial instanti worth pay light potenti save redund rule rule trivial redund head atom occur bodi rule appli produc duplic infer trivial redund rule occur practic combin rule frequent form head rule unifi resolv rule rule appli backward chain rule form bodyrul bodyrul variant bodi rule general unifi appli rule trivial redund ignor oqk turn dynam optim method par tialli comput join theorem rule trivial redun dant result remain replac ing relat oqk exampl assum appli rule initi exampl deriv rule ing backward chain invers invers trivial redund evalu bodi invers invers initi exampl data singl substitut invers invers trivial redund timiz depend data con sider rule subsum rule optim realiz novel storag layout final exampl optimiza tion implement worth mention theoret sound promis direct futur work consid case infer rule produc rule applic step rule subsum rule set fact easi comput base well method check subsumpt conjunct queri abiteboul hull vianu case detect ignor materi izat lead form static optim rare practic common case specif appli subsum consid oqk pli rule check resolv rule subsum rule appli step oqk ignor exam ple consid rule addit rule compound haspart typic declar domain properti appli rule infer rule combin rule compound haspart haspart subsum rule pre comput relationship static result ing statement form appli infer produc step appli fact step dynam materi elimin fur ther block special case illustr exampl safe rule subsum plicat memoiz applic rule idb bodi atom requir evalu sne rule form join relat rang infer respect idb atom start opti mizat elimin block rang algo rithm spend consider resourc comput optim remain demand concaten requir cost occur appli cation rule infer comput rule fewer idb bodi atom eval uat faster rule idb bodi atom requir singl sne rule limit rang block favor situat mon pre comput extens select idb atom treat atom edb layer pre comput idb atom memoiz exampl memoiz atom note memoiz atom pre comput instanti predic proach owl reason urbani prove correct transform sne effici select pre comput comput larg part materi goal direct method qsq magic set focus infer need answer queri suitabl abiteboul hull vianu qsq perform best set idb atom memoiz specif ferenc task choic fix exampl common pre comput properti hierarchi reli prior domain knowledg general datalog appli heurist attempt pre comput general bodi atom qsq set timeout default memoiz form atom pre comput complet time turn high effect case evalu evalu approach base pro totyp implement call vlog main goal tripl vlog rule set dataset edb fact size dbpedia claro claro tabl statist dataset rule set support materi limit resourc form evalu laptop comput sourc code short tutori https jrbn vlog experiment setup comput experi macbook pro intel core processor sdd ram run maco yosemit softwar competitor pile sourc appl clang llvm data eval uat rdfox motik dataset datalog pro gram onlin dataset cultur heritag ontolog claro motik dbpedia extract wikipedia bizer differ size graph generat lubm benchmark guo pan heflin addit cre ate random sampl claro call claro stati tic dataset tabl dataset owl ontolog inferenc motik custom tran lation ontolog datalog type rule set denot custom translat origin ontolog upper approxim owl ontolog fulli captur datalog extens version addit rule inferenc harder rule oper ate datalog translat input graph tripl entiti imag repres fact imag entiti rule translat edb tripl idb atom standard defin set deriv rule owl work direct tripl motik refer rule rule datatyp equal reason motik tabl vlog combin disk edb layer memori columnar idb layer achiev good memori runtim bal anc limit hardwar develop disk databas permut index stan dard practic field neumann weikum tool optim set lead memori system rdfox comparison current prototyp parallel compar sequenti version origin version rdfox motik recompil releas configur sequenti storag variant rdfox version perform equal reason lead input data ing interpret differ unabl isg tool rdfox aaai data rule rdfox seq vlog time mem time mem idb oom oom oom oom oom oom oom oom tout tout dbpedia claro claro oom oom tout tout claro tabl materi time peak memori data rule opt dbpedia claro tabl impact dynam optim time deactiv featur ver sion state vlog dynam optim activ memoiz runtim memori usag tabl report runtim memori usag materi test data total number infer comput vlog oper complet hardwar oom note memori error tout denot timeout memori denot peak ram usag measur api number idb fact infer vlog base strict separ idb edb predic rule import fact rule figur report rdfox correspond uniqu tripl infer compar output tool ensur correct rdfox achiev excel speedup ing multipl cpus sequenti runtim measur best perform baselin fast memori comput singl thread memori usag compar direct parallel version rdfox memori motik vlog requir work ing memori rdfox edb data disk comparison pure memori system rdfox disk file size account tabl add vlog memori case rdfox termin spite memori save vlog compar runtim consid linear speedup parallel rdfox dynam optim prototyp support timiz mismatch rule redund rule discuss earlier tabl runtim enabl lubm pedia attribut shallow rule data rule mem memoiz ttotal atom tmem tmat ttotal tabl impact memoiz time case constrast optim effect claro reduc runtim factor sne lead expens join produc duplic optim avoid memoiz evalu impact memoiz materi featur rule tabl total runtim memoiz number idb atom memoiz time comput memoiz rule memoiz materializa tion runtim despit fact idb atom mem oiz rule contrast memoiz decreas materi runtim factor initi cost second conclud procedur bene ficial standard owl rule rule motiv memoiz occur rule sens construct rule intern edb fact pre comput materi discuss conclus introduc column orient approach form datalog memori materi larg kgs goal perform task effici man ner minim memori consumpt cpu power evalu indic viabl altern exist datalog engin lead competit runtim signif icant reduc memori consumpt evalu highlight challeng address futur work observ execut larg join problemat tabl scan remov duplic pri mari reason comput finish time larg dataset second implement current exploit multipl processor will interest ing techniqu intra inter queri parallel appli set third plan studi mech anism effici merg infer input datalog practic nalli continu extend dynam optim complex case develop optim advantag design continu mind best knowledg work ploit column base approach datalog inferenc larg scale memori datalog comput begun acknowledg work partial fund commit nwo veni project dfg emmi noether grant crc haec cfa cluster excel refer abadi abadi marcus madden hollenbach store vertic parti tion dbms semant web data manag vldb abadi madden ferreira abadi madden ferreira integr compress execu tion column orient databas system proceed sigmod abiteboul hull vianu abiteboul hull vianu foundat databas addison wesley bischoff bischoff krötzsch poller rudolph schema agnost queri rewrit ing sparql proc int semant web conf iswc volum lncs springer bishop bishop kiryakov ognyanoff peikov tashev velkov owlim famili scalabl semant repositori semant web journal bizer bizer lehmann kobilarov auer becker cyganiak hellmann dbpedia crystal point web data web semant bonet koenig bonet koenig proc aaai aaai press callahan cruz toledo dumonti callahan cruz toledo dumonti ontolog base queri link open data biomed semant cyganiak wood lanthal cyganiak wood lanthal rdf concept abstract syntax recommend http org concept guo pan heflin guo pan heflin lubm benchmark owl knowledg base sys tem web semant scienc servic agent wide web hoffart hoffart suchanek berberich weikum spatial tempo ralli enhanc knowledg base wikipedia artif special issu artifici intellig wikipedia semi structur resourc idreo idreo groffen nes mane gold mullend kersten mon etdb decad column orient databas architectur ieee data eng bull kolovski eadon kolovski eadon optim enterpris scale owl reason relat databas system proc int semant web conf iswc volum lncs springer krötzsch krötzsch effici rule base inferenc owl walsh proc int joint conf artifici intellig ijcai aaai press ijcai krötzsch krötzsch easi task comput class subsumpt owl proc int semant web conf iswc volum lncs springer motik motik cuenca grau horrock fokou lutz owl web ontolog languag profil recommend http org profil motik motik nenov piro horrock olteanu parallel materialis data log program centralis main memori rdf system proc aaai aaai press motik motik nenov piro hor rock combin rewrit increment mate rialis mainten datalog program equal proc int joint conf artifici intellig cai aaai press motik motik nenov piro hor rock handl rewrit bonet koenig motik nenov piro horrock increment updat datalog materialis backward forward algorithm bonet koenig neumann weikum rdf engin scalabl manag rdf data vldb oren kotoula anadioti sieb ten teij van harmelen marvin distribut reason larg scale semant web data web semant russel norvig artifici intelli genc modern approach prentic hall second edit urbani kotoula maassen van harmelen bal webpi web scale parallel infer enc engin mapreduc journal web semant urbani margara jacob van harmelen bal dynamit parallel materi dynam rdf data semant web iswc springer urbani piro van harmelen bal hybrid reason owl semant web urbani jacob krötzsch column orient datalog materi larg knowl edg graph proc aaai aaai press krötzsch wikidata free collabor knowledg base commun acm weaver hendler parallel materi aliz finit rdfs closur hundr million tripl proc int semant web conf iswc volum lncs springer appendix proof proof theorem observ naiv approach termin lead uniqu model recal defin appli rule parallel step consid arbitrari fair sequenc individu appli cation rule rule rule appli naiv denot set fact deriv step clear rule rule infer sound deriv step remain complet sens appli rule fair sequenc deriv step indic rule appli interv form malli sequenc rule rule sequenti applic rule deriv infer parallel applic rule deriv simpl induct finit abiteboul hull vianu sound impli requir semi naiv applic strategi base rule form sound produc infer naiv rule rule applic produc base fair sequenc rule refer fact deriv step semi naiv procedur denot set fact produc step naiv proce dure induct hold predic step induct base trivial induct step assum claim hold form rule appli step assum appli step set appli comput evalu evalu infer tmpp ground substitut rule tmpp applic applic likewis pression waqa infer tmpp ground substitut tmpp infer rule form largest rang ground instanti applic tmpp induct hypothesi defini tion note case disregard induc tion hypothesi infer pro duce appli rule step complet induct proof proof theorem claim definit detail con sider rule claim theorem set complet rule bodi match comput optim count clear tupl compat assumpt theorem atom unifi head rule oqk fact compat oqk join meant join posit term impli oqk oqk consid find match comput proof theorem claim spell detail complet assum appli rule form step appli step notat partial join proof theorem previous addit rule form rule theorem set fact produc evalu naiv version rule step comput form tmpqk note oqk tmpqk denot result join consid element substitut variabl rule assum loss general rule share variabl consid situat claim pli semi naiv rule form partial evalu rule bodi consid join identifi posit variabl unifi atom def init redund rule atom assign valu variabl rule find list ground term definit tmpp appli rule substitut extend step redund argument hold assign project variabl superset oqk find tupl oqk ignor appli 