design issu jpq pattern base queri languag document databas xuhui mengchi xiaoy jinguang comput school wuhan univ wuhan china lixuhui charleslzq mengchi school comput sci tech wuhan univ sci tech wuhan china simon abstract document databas popular complex document queri docu ment remain topic studi paper describ design issu pattern base document databas queri languag name jpq jpq express pattern extract con struct document fragment json document data model adopt tree extract pattern coher pattern composi tion mechan extract data element hierarch structur document maintain logic relationship element base relationship jpq deploy deduct mechan declar data transform request consid data filter hierarch data structur exampl featur languag demonstr express declar present complex document queri introduct document databas kind call nosql databas nest collect record row store data document organ aggreg orient aggreg collect late object aggreg treat unit manipul allow structur type enabl flexibl access document databas organ larg amount aggreg associ key access effici semant domin document format json lightweight data interchang languag json document databas convent key store aggreg opaqu blob meaningless bit pars process applic xml databas exhibit hierarch style semant label tag key associ content key json docu ment uniqu object element xml element tag addit json perform resourc util advantag xml json document databas interest year document databas mongodb couchdb orientdb ravendb develop popular practic wide spread document databas queri json document issu exist document databas provid lightweight queri interfac satisfi basic queri instanc mongodb api find function key constraint argument extract correspond element sourc document runtim couchdb develop view base queri interfac predefin view key pair generat under map reduc function orientdb support simpl subset sql extract document fragment collect record nativ java base queri api ravendb present queri linq program net framework class develop indic databas allow simpl data extract document queri api express complex request exampl extract multipl interdepend data element construct data structur user resort host program languag full fledg queri languag facilit present complex document queri research begun studi queri languag json doc ument jaql function queri languag enabl user function pipelin extract filter join group json data enabl compu tation data collect transform command allow simpl structur manipul command expand jsoniq queri languag adopt subset xqueri syntax semant queri json document treat json document simpl xml document studi employ xpath express extract json doc ument navig coher complet filter construct mechan call full fledg languag unql sql json queri languag enabl select nipul object element data hierarchi navig oper languag express aforement queri interfac express declar complex queri navig oper document extract homogen data plain tupl easi extract multipl interdepend element inher structur handl heterogen data construct hierarch document structur common request carri multipl extract command nest loop statement specif mechan requir user consid detail proce dure queri skill program paper preliminari studi pattern base queri lan guag name jpq stand json pattern queri jpq function languag inspir studi declar xml queri adopt express pattern coher mechan extract multipl doc ument data element simultan construct document fragment flexibl structur enabl complex document queri present declar work contribut pattern base queri languag studi xml knowledg work attempt tree pattern queri json style docu ment databas comparison exist studi document queri jpq focus express queri languag adopt kind data extract pattern facilit present complex document queri practic jpq deploy deduct rewrit mechan spec ifi data transform request allow complex data construct present declar remaind paper organ order queri languag introduc simpl model json document discuss schema featur effect document databas queri introduc jpq languag exampl demonstr usag featur compar jpq document queri languag interfac conclud paper simplifi model document queri jpq adopt simplifi model json document name jhm stand json hierarchi model jhm grammar data structur key document fragment json style grammar jhm document fragment repres atom string number array valu object compris key pair jhm document exhibit data hierarchi valu object array expand jhm requir string base key uniqu object document databas atom array object atom string number boolean empti array object keyvalu keyvalu keyvalu string json format evolv object orient paradigm doc ument data jhm specifi convent object data fundament distinct jhm adopt compound data type fur ther predefin data schema schema properti essenti document queri way first disabl random access bitrari object enumer mechan requir pars object detail second label pre defin semant queri key string find expect key string describ semant play role semant label associ valu final support heterogen array element assum convey infor mation user manual align heterogen array element produc homogen document fragment univ illustr scenario univ siti human resourc system presid school faculti store hierarch document presid email xxli execut vice presid feng firstnam email xxfeng vice presid surnam zhou givennam school comput school dean faculti email xxli univ consid three queri human resourc find presid person presid find school belong faculti member list school occup queri common practic system user queri exist document queri interfac languag spend lot time write tedious program extract interdepend data element handl heterogen transform hierarch data structur jpq jpq languag synopsi jpq jpq declar queri languag deploy hierarch pattern spec ifi queri jhm document stem previous work xml queri consider modifi cater practic document queri request mention common jpq program compos con struct claus data extract construct fil tere synopsi jpq grammar list queri doc extract pattern doc extract pattern construct construct pattern condit jpq queri work claus jpq program extract statement extract pattern sourc document extract request data element document extract surround element context match correspond ing part pattern data element natur organ structur deriv extract pattern structur coher restructur construct pattern construct claus transform extract data element generat output addi tional claus extract data element filter condit construct final data extract extract pattern jpq includ key pattern pattern match key pair valu jhm document denot key pattern pattern denot variabl denot string predic predic list abstract syntax extract pattern syntax rule extract pattern structur pose variabl predic wildcard structur oper logic oper variabl predic key string test doc ument fragment key satisfi restrict indic pattern bind fragment variabl pattern exampl match key pair execut vice presid key pattern presid key execut vice presid test string predic presid exist substr presid bound key denot match pair execut vice presid ignor match wildcard hand match element key pattern presid result match pair extract pattern bind part document frag ment variabl match pair organ structur composit structur pattern jpq adopt logic compos match pair introduc three kind struc ture tupl array option tupl form conjunct combin subordin match ing generat match fragment multi variabl pattern definit key pattern object pattern conjunc tive pattern variabl consid conjunct associ jpq introduc conjunct pattern queri match pattern combin tupl pattern predic requir satisfi exampl match aforement key pattern presid generat tupl execut vice presid feng array form order list deriv match fragment array pattern enumer pattern exampl match vice presid univ denot valu array pattern presid will result array jpq introduc enumer pattern generat array match ing arbitrari fragment borrow conveni path oper xml queri languag pattern pars enumer content fragment inner structur unknown mention children pattern match object iter element match pattern match form array document order exampl match univ pattern presid will result array presid execut vice presid vice presid scendant pattern recurs find valu match pattern current context context match form array preorder travers order option deriv frommatch fragment option pattern multipl choic pattern match fragment dis junctiv match pattern filter condit claus condit exist valid result result pattern option pattern handl heterogen exampl match person univ pattern firstnam will return heterogen person name unifi process homogen hand match ing pattern will bind variabl depend initi letter homogen data separ handl heterogen extract pattern describ jpq flexibl expr sive extract organ element exampl find school presid work faculti member extract pattern find doc univ presid school faculti extract pattern conjunct compos enumer pat tern presid object pattern school match document pattern key pair object enumer match key pattern key pair key substr presid bound denot match option pattern match document pattern array school match succeed array pat tern extract faculti member match result list presid execut vice presid vice presid comput school data construct data construct jpq present construct pattern essenti function invoc match term match term express transform structur match extract pattern abstract syntax match term syntax match term compos variabl result oper call tupl array option distinct term array term name term requir array match term item identifi item general element array origin match index match term distinct term denot distinct array introduc detail exampl tupl result tupl term array array term match term extract pattern denot function construct pattern normal function invoc fun embed constant valu key string valu notat argument match term runtim construct pattern generat valid jhm fragment instanti variabl valu bound exampl construct pattern peopl surnam argument term generat fragment peopl surnam surnam match result function invo cation subordin match term allow occur construct pattern data construct express compact common request data construct transform origin extract data structur follow origin struc ture sourc document jpq declar data transforma tion employ deduct restructur mechan match term mechan deploy set restructur rule constitut term rewrit system indic restructur match term direct transform match method uti lize studi xml queri jpq modifi simpl power document databas queri restructur rule match term list fig restructur rule atom step data transform dicat restructur match term match term tupl commut tupl associ option commut option associ tupl duplic array flatten option tupl distribut var var fold array array tupl distribut array tpl fold fig restructur rule match term valid respect restructur appli restructur rule sequenti construct pattern construct claus jpq program requir backbon construct pattern valid respect match term deriv extract pattern valid data transform indic valid restructur match term restructur rout infer deduct mecha nism rewrit system request data transform jpq present declar space restrict demon strate usag semant rule typic exampl formal detail theoret properti term restructur data tran format refer techniqu report commut associ rule tupl option rearrang order subordin term construct pattern tupl duplic rule duplic data element satisfi construct request data element jhm document hierarch organ natur extract data nest array common request flatten nest array element inner array direct element outer array jpq introduc flatten array term specifi array flatten rule transform array flatten array member outer array transform element inner array releas direct belong outer array jpq allow tupl option array restructur option array distribut rule kind tran format name distribut work distribut law gebra option distribut restructur tupl option valu bound embed construc tion pattern depend associ pattern array distribut restructur tupl array distribut valu coupl form array array element correspond element array restructur array index origin term array array help infer proven array distribut construct pattern array present groupbi simplifi term infer exampl find presid associ object valu gen erat presid array role correspond object doc univ presid construct presid role info role info exampl key pair presid enumer object bound direct array match construct pattern raw term restructur term way tupl restructur array flatten construct result presid object vice presid array mem ber merg homogen array indic restructur proven array reorder element array refer jpq allow match term array function argument introduc asc desc suffix sort function valu element array element array reorder group element set common request data queri jpq implement request fold array array tupl fold rule tupl element array group array equival class valu term denot fold array natur fold array term indic distinct valu array construct pattern pattern present groupbi indic exampl faculti member list school occup order faculti member ascend order doc univ school faculti construct faculti school groupbi asc exampl nest array denot first flatten classifi construct pattern hide term inner array term order suffix asc indic order array element ascend order data filter jpq predic condit compound condit claus filter unwant data element predic condit essenti predic function invoc filter valu bound variabl argument term predic condit simpl predic function invo cation quantifi condit composit condit combin subordin condit boolean connect simpl predic function invoc canon form fun infix form binari function exampl find pair name school share common faculti member doc univ school faculti faculti construct result exampl join school array establish posit condit simpl condit argument composit argument tupl term quantifi condit quantifi foreach form quantifi mterm array predic condit indicat ing element bound term array satisfi predic condit quantifi condit bodi quantifi term simplifi exampl find school faculti amount larger member email address doc univ school faculti construct result count foreach notnul email quantifi argument array rang array element subordin condit argument term composit condit argument predic condit filter data data structur jpq adopt compound condit predic condit combin connect par form consist global requir filter extract data compound condit par disjunct condit condit filter valu part option condit condit work parallel filter merg final result condit exampl presid find school faculti member doc univ presid school faculti construct presid school presid school par exampl predic condit specifi branch option term combin par oper gather filter condit common illus oper par composit condit treat predic argument term valid function jpq languag compound condit filter hierarch data element runtim predic condit work result data element filter predic condit differ process sequenti commut indic bottom order data hierarchi exampl find school faculti member email address suffix doc univ school faculti email construct result school endwith count exampl condit filter faculti member filter array faculti work level data hierarchi bottom order process data filter requir data filter jpq subtl issu sound consist semant filter element hierarch structur option structur complex theoret detail data filter complex structur refer techniqu report conclus document databas popular practic data manag exist queri mechan queri languag json document express complex document queri practic paper introduc queri languag name jpq jpq pattern base function languag adopt express pattern extract structur data element json document construct document fragment base deduct mechan data transform compari son queri languag json document jpq exhibit express interest featur coher pattern base mechan data extract data transform data filter fig studi jpq languag preliminari stage current finish design core languag prototyp base oper semant implement sound semant develop effici process complex queri compound condit tough problem solv studi deeper topic jpq underway extend languag updat function full fledg manipu lation languag process jpq queri parallel databas esp cialli map reduc framework interest topic concern fig comparison json document data queri languag interfac refer crockford applic json media type javascript object notat json rfc http rfc nurseitov comparison json xml data interchang format case studi cain chodorow kristina michael dirolf mongodb definit guid media anderson chris jan lehnardt noah slater couchdb definit guid time relax media orientdb http ravendb http http ercegovac gemulla balmin jaql script languag larg scale semistructur data analysi proceed vldb endow robi jonathan matthia brantner daniela florescu xqueri json json xqueri xml pragu jpath http softwar jpath jsonpath http articl jsonpath jsonselect http prestegarden dag olav unql queri languag nosql databas phd diss norwegian univers scienc technolog liu zhang declar xml queri languag proc dexa lncs liu xtq declar function xml queri languag technic report http xtq 