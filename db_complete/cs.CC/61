constraint satisfact semilinear expans addit ration real peter jonsson depart comput scienc linköp universitet linköp sweden johan thapper laboratoir gaspard mong université pari est marn vallé boulevard descart champ sur marn franc abstract semilinear relat union intersect open close half space instanc real ration integ semilinear relat studi connect algebra geometri automata theori spatiotempor reason consid semilinear relat ration real assumpt comput complex constraint satisfact problem csp set problem correspond expans linear program feasibl problem generalis result fulli determin complex set semilinear relat accomplish introduc algorithm base comput hull solv class semilinear csps polynomi time analys complex linear optimis solut set exist integ solut keyword constraint satisfact problem semilinear set algorithm computa tional complex introduct work ground set domain will ration real relat semilinear repres finit union finit intersect open close half space altern semilinear order defin semilinear relat appear context mathemat comput scienc instanc frequent encount algebra geometri automata theori spatiotempor reason comput algebra semilinear relat attain fair amount attent connect constraint satisfact problem csps csp set variabl finit infinit domain valu finit set constraint question assign valu variabl constraint satisfi complex theoret viewpoint solv general constraint satisfact problem hard problem way refin problem adopt allow meaning analysi common refin introduc constraint languag finit set allow mail address thapper author partial support swedish council grant relat consid problem csp constraint input member parameteris constraint satisfact problem prove fruit csps finit infinit domain finit comput complex problem depend actual represent constraint complex finit domain csps studi long time power algebra toolkit gradual form work devot feder vardi conjectur posit finit domain csp polynomi time solvabl complet infinit domain csps hand constitut divers set problem fact comput problem polynomi time equival infinit domain csp obtain full understand comput complex question restrict articl restrict will studi semilinear relat constraint languag relat essenti convex finit point segment constraint languag essenti convex relat essenti convex main motiv studi result theorem bodirski finit set semilinear relat csp polynomi time solvabl essenti convex complet problem optim linear polynomi solut set csp polynomi time solvabl csp polynomi time solvabl hard suspect semilinear constraint languag csp essenti convex true identifi case case consid relat larg caviti surpris algorithm essenti convex relat idea appli presenc high convex relat introduc algorithm solv csps type polynomi time base comput affin hull idea improv easili represent upper bound solut space constraint time form local consist method second case consid relat essenti convex essenti convex view form origin point wit essenti convex relat lie pass origin remov hole find equival constraint languag essenti convex solv problem polynomi time combin algorithm match hard fact csp semilinear constraint languag theorem bodirski yield dichotomi theorem finit set semilinear constraint csp complet result generalis theorem generalis result bodirski concern expans relat order defin note class relat sever restrict subset semilinear relat admit quantifi elimin structur denot binari addit function general fact order theori torsion free divis abelian group admit quantifi elimin theorem altern view relat order defin finit union set defin homogen linear system equat continu generalis second theorem semilinear problem optimis linear polynomi solut set csp polynomi time solvabl csp polynomi time solvabl hard studi problem find integ solut csp semilinear constraint languag partial full classif remain elus light scalabl properti introduc jonsson lööw articl structur formal defin constraint sat isfact problem semilinear relat terminolog minor algorithm tractabl present tion hard combin prove theorem partial generalis theorem optimis problem studi problem find integ solut final discuss obstacl generalis articl revis extend version confer paper preliminari constraint satisfact problem finit set finitari relat domain will infinit refer constraint languag order avoid uninterest trivial case will assum constraint languag empti empti relat order formula call primit posit form atom formula xik relat symbol ari relat call formula formula note variabl existenti quantifi formula sentenc formula var denot set variabl appear atom formula xik formula call constraint constraint satisfact problem constraint languag csp short decis problem problem csp finit set relat domain input primit posit sentenc output true exact represent relat unessenti exclus studi finit constraint languag relat defin exist quantifi free formula set relat defin denot easi result explain role primit posit defin studi comput complex csps will extens sequel make explicit refer lemma jeavon constraint languag finit subset csp polynomi time reduc csp constraint languag relat ariti instanc csp denot instanc occurr relat replac csp equival csp true true clear csp csp equival csps complex trivial linear time transform semilinear relat domain relat articl will set ration set real case set coeffici will set ration order avoid confus will explicit notat defin set relat lex denot set linear equal coeffici lix denot set strict strict linear inequ coeffici set defin finit conjunct inequ lix call linear set set semilinear set slx defin set finit union linear set will refer slq slr semilinear relat awar represent object lex lix compar slx lex lix view equal inequ syntact object build logic formula recal definit linear set defin conjunct inequ linear set logic formula subset thing hold semilinear set defin union linear set view logic formula distinct advantag terminolog notat emphasis differ view object object lex lix logic context definit semilinear relat typic geometr context relat ariti demonstr csp csp equival constraint satisfact problem slr will exclus concentr relat slq sequel slr instanc csp construct instanc csp replac occurr solut solut solut ration solut lemma bodirski solut lemma direct consequ definit properti refer minim literatur lemma slx unari semilinear relat written finit union open half open close interv endpoint finit set point set semilinear relat defin relat order defin slx close definit consequ lemma applic relat discuss articl lemma lemma bodirski relat rkxk defin defin formula defin relat comput polynomi time leq liq note homogen linear equat coeffici defin unari semilinear relat ration unari relat will write relat distinct point defin relat parameteris intersect relat point note member leq lemma member ari relat bound exist unari relat unbound direct bound exist hold unari relat call bnu bound constant unari bound point lemma unari relat slq unbound direct bnu addit posit negat element empti bound unari relat proof lemma exist assum hold remain case consid choos ration hard relat bound interv result lemma assum hold negat element remain case consid bound element result lemma unari semilinear relat ration denot set unari semilinear relat exist exampl set unari relat lemma bound unari semilinear relat relat ration proof supu inf lemma exist element relat defin satisfi inf lemma bound unari semilinear relat relat ration proof proof construct proof lemma essenti convex ari relat relat convex point segment essenti convex finit point segment exclud interv real number note assum ration number choos distinct ration number essenti convex infinit point segment wit essenti convex lemma conclud semilinear relat essenti convex exclud interv constraint languag essenti convex relat essenti convex theorem theorem bodirski finit set essenti convex semilinear relat csp tractabl main sourc tractabl algorithm semilinear constraint languag bnu extend applic theorem essenti convex semilinear constraint languag class semilinear csps essenti convex affin consist comput exact solut set csp instanc approach will reduc upper bound set will maintain represent affin subspac guarante solut set repeat intersect subspac constraint order attempt reduc form local consist manag reduc upper bound empti set instanc unsatisfi will condit convers hold upper bound empti solut formalis idea will definit subset aff denot affin hull aff xipi affin subspac subset aff point affin independ xkpk impli dimens dim set defin maximum number affin independ point defin notion consist set semilinear constraint call affin consist finit set variabl set constraint xik xik affin consist respect empti affin subspac aff xik algorithm establish affin consist set constraint answer affin subspac empti rest algorithm correct solv csp semilinear constraint languag bnu algorithm implement polynomi time appli constraint languag kind algorithm affin consist input set constraint xik variabl output affin subspac empti repeat foreach constraint xik aff chang return return prove technic lemma basi lemma slq ari relat linear set assum leq leq bnu aff aff aff proof proof induct dimens dim consist singl point clear assum lemma hold aff aff dim affin independ point affin independ point consid line lpi line hyperplan origin parallel line lpi intersect line express lpi leq constant unbound lemma unbound direct lemma cpi posit constant analog argument cqj posit constant posit constant max cpi ensur intersect line lpi affin independ point intersect line lqj affin independ point aff aff dim dim induct aff aff hold exist distinct aff dim aff strict aff dim dim equal aff lemma semilinear relat size denot represent size number bit need describ ariti coeffici inequ fix definit lemma slq relat leq bnu affin subspac algorithm comput set linear inequ defin aff time polynomi size size size size size algorithm calcul aff input semilinear relat affin subspac output set inequ defin aff aff find maximis dim aff aff return set inequ set inequ foreach inequ dim aff return proof represent union linear set lemma exist aff aff aff aff algorithm will find simpli compar dimens set aff algorithm return signal affin hull empti affin hull empti polyhedron subset defin inequ schrijver inequ strict hard remov chang affin hull inequ remov increas dimens affin hull clear remov loop loop inequ remov increas dimens affin hull defin affin subspac aff aff aff ellipsoid method determin dimens affin hull polyh dron defin system linear inequ time polynomi represent size inequ corollari handl strict inequ turb small amount keep represent size polynomi system strict inequ affin hull algorithm affin hull calcul total time polynomi size size final set subset size size size theorem slq finit constraint languag bnu algorithm correct solv csp implement polynomi time proof assum relat linear set algorithm termin equal affin hull solut space constraint assum input consist constraint xik variabl denot solut space instanc clear contain execut algorithm aff aff suffic aff will aff algorithm termin aff claim hold assum claim hold satisfi requir lemma aff aff lemma conclud aff aff final algorithm implement polynomi time call algorithm inner loop carri time size size log size exceed size log relat maxim represent size call algorithm take polynomi time consequ entir algorithm run polynomi time essenti convex will identifi famili polynomi time solv semilinear csps time base result essenti convex semilinear constraint languag theorem extend result situat guarante unari relat defin languag essen tialli convex idea constant relat help identifi exclud interv exclud full dimension hole follow show remov lower dimension hole recov equival essenti convex constraint languag remind reader dimens set defin respect affin hull denot euclidean norm dist euclidean distanc lemma assum slq semilinear relat unari relat essenti convex defin formula defin convex semilinear set conjunct liq defin convex set dimens strict lower dimens set defin proof conv denot convex hull denot dimens set conv semilinear instanc stengl formula conv formula conv quantifi free dnf liq remain dimens convex set defin smaller prove point exist point dist dimension convex set small dimension open ball point interior set dimension figur illustr entiti involv induct step theorem schrijver state conv find affin independ point lie conv induct point point dist statement trivial chosen assum statement hold induct hypothesi statement hold set conv written point distanc dist small constant fix lemma exist unari relat consid relat assumpt exclud interv exist definit exist point dist max max constant fix inequ triangl inequ claim point dist dist dist theorem slq constraint languag assum exist unari relat unari relat essenti convex csp equival csp essenti convex constraint languag slq proof essenti convex prove assum essenti convex lemma defin formula conjunct liq defin set affin hull dimens strict lower set defin assum addit formula number affin hull set defin affin hull set defin defin defin affin hull set defin constraint languag essenti convex wit exclud interv occur insid affin subspac wit defin unari relat exclud interv arbitrari instanc csp variabl assum quantifi free construct instanc csp replac occurr relat clear satisfi convers solut assum satisfi unari relat tupl correspond solut solut constraint consid point satisfi con straint notr point satisfi satisfi point affin hull relat defin constraint account finit number point finit assum essenti convex contradict assumpt unari relat essenti convex assum singl point correspond solut recal essenti convex ari relat essenti convex wit relat unari essenti convex lead contradict satisfi hard deriv unifi condit hard csps classifi articl base polynomi time reduct hard problem equal problem csp rnae rnae proof divid three lemma reduct equal simpl semilinear csp bnu bound allow defin unari relat sens close relat final step combin bnu exclud interv bound suffici condit csp hard lemma csp hard proof proof polynomi time reduct csp rnae denot arbitrari instanc csp rnae construct instanc csp impos constraint variabl constraint rnae introduc constraint fresh variabl assum solut consid constraint rnae variabl assign equat satisfi choos variabl assign equat satisfi choos satisfi assum solut solut defin assum contrari variabl constraint rnae consid equat assumpt contradict constraint rule case prove solut lemma bound unari relat unari relat unari relat proof result lemma lemma exist constant set empti point posit negat exist constant empti point posit negat assum set posit point set negat point result lemma relat point negat case set posit point negat point handl relat lemma bnu unari relat exclud interv csp hard proof unari relat result lemma relat lemma unari relat exclud interv point chosen scale assum note scale distinct point defin unari relat relat rough translat constant relat approxim relat chosen small relat will satisfi condit lemma finish proof semilinear expans prove main result theorem divid proof part consid properti unari relat posit point satisfi unari relat posit point satisfi proof consid constraint languag multan satisfi properti second consid constraint languag violat part detail descript boundari easi hard problem combin theorem theorem establish theorem addit algorithm trivial sourc tractabl relat valid tupl constraint languag valid relat valid instanc csp valid constraint languag admit solut assign variabl consid constraint languag valid lemma defin unari relat valid lemma slq constraint languag valid empti unari relat valid proof assumpt ari relat valid definit constraint languag empti tupl largest number zero assum simplic entri equal consid unari relat relat empti valid case theorem cover case con straint languag satisfi properti corollari complet classif semilinear constraint languag result interest will theorem slq finit constraint languag satisfi problem csp valid trivial bnu establish affin consist unari relat essenti convex reduct essenti convex constraint languag csp hard proof set bound empti unari relat assum valid empti lemma empti unari relat valid scale relat call relat unari relat wit unari relat wit scale posit point coincid negat point negat point set empti assum bnu constant theorem establish affin consist solv csp bnu unari relat essenti convex lemma theorem csp equival csp essenti convex constraint languag tractabl theorem final bnu unari relat exclud interv hard lemma corollari slq finit constraint languag problem csp bnu essenti convex csp hard proof bnu tractabl theorem relat essenti convex tractabl theorem bnu unari relat essenti convex valid hard theorem case slq constraint languag violat replac equival constraint languag restrict type hslq denot set relat finit union homogen linear set will call relat homogen semilinear relat remind reader defin relat freeli constant negat forthcom definit relat slq defin cone cone constraint languag slq cone cone note slq cone hslq cone cone assign ration denot assign theorem slq constraint languag violat csp equival csp cone proof assum satisfi proof case satisfi relat quantifi free dnf formula formula conjunct strict strict inequ remov disjunct homogen inequ satisfi tupl relat defin formula satisfi point inr point lie open segment cone cone relat defin remov homogen inequ formula relat defin clear cone cone point cone homogen inequ satisfi tupl satisfi point small ball centr point segment note homogen inequ satisfi cone cone cone relat defin cone cone cone homogen inequ defin cone cone hslq hslq equival csp csp arbitrarili choos instanc csp construct instanc csp replac occurr relat cone solut solut remain solut var solut assum loss general integr solut cone assum constraint cone hold construct cone impli defin unari relat formula assumpt minj solut theorem suffici determin comput complex csp hslq relat function endomorph tupl tupl equival view endomorph homomorph extend notion constraint languag function endomorph endomorph lemma ration number hslq endomorph proof written defin finit system homogen linear strict strict inequ consid inequ system equival hold consid strict inequ endomorph arbitrarili choos tupl assum function endomorph direct consequ lemma instanc csp hslq solut solut ration number complex classif constraint languag violat theorem intermedi lemma lemma lemma subset hslq unari relat element element proof element sign lemma endomorph lemma hslq finit constraint languag valid csp polynomi time equival csp proof assum valid lemma empti unari relat valid consid three case case empti unari relat lemma claim csp polynomi time equival csp polynomi time reduct left trivial direct arbitrari instanc csp assum loss general relat appear exact constraint construct replac constraint solut solut suppos solut choos lemma function solut case empti unari relat lemma defin case case empti unari relat unari relat equal lemma impli claim csp polynomi time equival csp reduct left trivial direct arbitrari instanc csp quantifi free assum loss general relat appear exact constraint construct replac constraint solut solut suppos solut assum solut assign negat number variabl defin unari relat contradict initi assumpt solut choos lemma function solut theorem slq finit constraint languag violat problem csp valid cone bnu cone essenti convex csp hard proof theorem csp equival csp cone lemma csp cone trivial valid csp cone polynomi time equival csp cone case result corollari optimis studi optimis problem object maximis linear function solut set semilinear csp arbitrari constraint languag slq formal defin problem opt problem opt input csp instanc vector qvar output answer unbound exist solut ctx optimum exist solut ctx solut ctx optimum arbitrarili close exist solut satisfi ctx solut ctx unsatisfi solut lemma problem opt polynomi time equival linear program bodirski semilinear constraint languag problem csp polynomi time solvabl hard problem opt polynomi time solvabl hard theorem theorem semilinear constraint languag complex decis problem optimis problem prove analogu theorem optimis problem theorem slq finit constraint languag bnu opt solv polynomi time proof instanc csp var vector assum quantifi free algorithm find affin hull set satisfi assign polynomi time answer unsatisfi affin hull repres set inequ repr sentat size polynomi input size solv system polynomi time assum system solut dim affin independ satisfi assign write true denot correspond point arbitrari constant bnu lemma point satisfi satisfi assign answer unbound constant polynomi time find polynomi represent size suffic evalu answer optimum theorem slq finit constraint languag problem opt polynomi time solvabl bnu essenti convex opt hard proof polynomi time solvabl case follow theorem theorem hard corollari comparison theorem corollari semilinear con straint languag csp polynomi time solvabl hard opt polynomi time solvabl hard exampl tight relationship complex constraint satisfact problem correspond optimis problem extend class semilinear constraint languag relat exampl rnae note semilinear valid satisfi arbitrari instanc csp rnae construct instanc opt introduc auxiliari variabl constraint rnae introduc constraint final vector qvar defin variabl instanc solut optim solut conclud csp polynomi time solvabl valid opt hard integ solut studi problem find integ solut csps defin semilinear relat consid approach allow addit unari constraint forc chosen variabl integr identifi constraint languag guarante exist integ solut reader note approach consid semilinear relat defin integ consid way check problem instanc solut variabl assign integr valu problem second approach semilinear csps integ method lend systemat studi csps approach systemat studi relat unari relat ensur variabl integr lemma relat semilinear constraint languag classifi theorem formal semilinear theorem slq finit constraint languag satisfi problem csp valid bnu csp hard proof valid valid instanc admit solut assum bnu arbitrari instanc csp var set variabl constrain instanc csp remov constraint argument set bound empti unari relat proof theorem relat set satisfi assign run algorithm system inequ defin affin hull satisfi assign substitut inequ equal system linear equal defin pii comput system linear equat polynomi time comput paramet form remov coordin correspond comput equival system linear equat polynomi time care represent size intermediari schrijver solv system linear equat integ solut polynomi time schrijver corollari solut exist unsatisfi integ point linear independ vector dim vector explicit polynomi time interest show exist satisfi assign suffic aforement form constant defin pii project variabl note lemma linear set aff claim exist distinct intersect open segment bnu somem larg integ exist point pii satisfi prove claim consid cone note larg posit constant set empti intersect open segment final assum bnu assum valid lemma empti unari relat valid constant element bnu valid constant unari relat case larg constant relat bnu valid distinct point constant bnu exclud interv hard lemma integ properti will determin semilinear constraint languag know solut guarante integ solut definit definit constraint languag integ properti instanc csp solut integ solut integ properti infer tractabl semilinear constraint languag semilinear constraint languag satisfi integ properti csp csp equival semilinear constraint languag arbitrari quantifi free definit liq quantifi free definit liz lemma integ properti preserv definit lemma constraint languag integ properti proof csp instanc relat definit csp instanc replac relat quantifi free existenti quantifi auxiliari variabl ration solut ration solut integ solut note restrict solut var solut restrict integ solut var integ solut prove lemma denot semilinear constraint languag observ csp integ properti csp instanc uniqu solut definit constraint languag scalabl hold exist posit constant axk clear scalabl constraint languag unari constant relat note endomorph ration scalabl infer exist endomorph scalabl properti general straightforward scalabl properti origin defin differ easi verifi definit coincid result complet characteris semilinear constraint languag integ properti theorem slq constraint languag valid equival integ properti unari relat unbound satisfi scalabl proof suppos bound unari relat lemma empti unari relat valid unari relat empti bound valid max supu inf consid csp instanc note solut arbitrarili choos integ solut chosen equat defin claim lemma assum exist unari relat posit point bound lemma exist lemma exist bound unari relat consequ exist relat arbitrarili choos ari relat scalabl arbitrarili choos tupl wit scalabl set unbound consid set note defin lemma note posit point unbound lemma definit satisfi implic difficult deduc proof lemma includ argument complet assum scalabl arbitrari instanc csp solut enumer atom relat symbol scalabl exist constant satisfi xik max satisfi atom includ equal chosen larg common multipl denomin integr solut applic theorem complement theorem case violat corollari slq constraint languag violat problem csp valid cone bnu cone essenti convex csp hard proof valid valid theorem impli integ properti instanc csp solut integ solut csp polynomi time equival csp violat result theorem discuss generalis natur goal proof theorem determin complex csp arbitrari semilinear constraint languag indic attempt difficulti accompani consid corollari main result theorem generalis remov assumpt natur question remov assumpt addit relat denot set semilinear constraint languag straightforward modif construct jonsson lööw constraint languag finit domain exist csp csp polynomi time equival problem complet classif complet classif finit domain csps classif major open question csp communiti observ tempor constraint languag languag order defin ration exist csp csp polynomi time equival problem fact tempor constraint languag admit polynomi time reduct csp csp simpli equat variabl appear constraint note solut translat solut variabl assign complex tempor constraint languag fulli determin polynomi time solvabl case fall categori proof complex base univers algebra approach studi csps conclud complet classif languag will requir advanc techniqu will condit classif finit domain csps smaller step remov corollari relax addit relat consid affin addit relat relat view relax variant defin round constraint languag slq hard reduc complex classif constraint languag theorem relat ration number denot relat instanc defin constraint languag note csp csp polynomi time equival problem arbitrarili choos constraint languag slq problem csp polynomi time equival csp fact impli defin consequ csp csp polynomi time equival problem conclud csp complet theorem interest forward classifi complex csp slq result substanti generalis bodirski obvious obstacl case metaproblem theorem constraint languag slq problem csp complet comput problem refer metaproblem literatur relev constraint languag slq csp complet complex problem fact clear decid interest method tackl question identifi instanc bodirski dumorti bodirski analys decid abstract properti constraint languag relat defin base number techniqu model theori univers algebra ramsey theori topolog dynam dumorti decid order formula binari function binari relat paramet defin semilinear relat indic obvious properti semilinear relat relev prove decid metaproblem acknowledg author manuel bodirski suggest relat relax refer manuel bodirski martin grohe dichotomi constraint satisfact complex proceed ing intern colloquium automata languag program icalp manuel bodirski peter jonsson timo von oertzen essenti convex complex semi algebra constraint logic method comput scienc manuel bodirski peter jonsson timo von oertzen horn versus full order complex dichotomi algebra constraint satisfact journal logic comput manuel bodirski jan kára complex tempor constraint satisfact problem journal acm manuel bodirski barnabi martin antoin mottet constraint satisfact problem integ successor proceed intern colloquium automata languag program icalp appear manuel bodirski michael pinsker todor tsankov decid journal sym bolic logic andrei bulatov peter jeavon andrei krokhin classifi comput complex constraint algebra siam journal comput freddi dumorti marc gyssen luc vandeurzen dirk van gucht decid semilinear semialgebra set implic spatial databas journal comput system scienc freddi dumorti marc gyssen luc vandeurzen dirk van gucht decid semilinear semialgebra set implic spatial databas corrigendum journal comput system scienc tomá feder mosh vardi monoton monad snp constraint satisfact proceed acm symposium theori comput tomá feder mosh vardi comput structur monoton monad snp constraint satisfact studi datalog group theori siam journal comput jeann ferrant charl decis procedur order theori real addit order siam journal comput pavol hell jaroslav colour constraint satisfact complex comput scienc review wilfrid hodg shorter model theori cambridg univers press york peter jeavon algebra structur combinatori problem theoret comput scienc peter jonsson toma lööw comput complex linear constraint integ artifici intellig peter jonsson johan thapper consist complex semilinear constraint proceed intern symposium mathemat foundat comput scienc mfcs david marker model theori introduct springer thoma schaefer complex problem proceed acm sym posium theori comput stoc alexand schrijver theori linear integ program john wiley son gilbert stengl jame mcenerney robert robson convex polar order journal pure appli algebra 