metric median select queri complex approxim ratio ching lueh chang septemb abstract consid problem find point metric space minimum averag distanc point problem determinist queri approxim algorithm constant introduct metric median problem ask point point metric space minimum averag distanc point mont carlo time approxim algorithm kumar mont carlo time approxim algorithm median select algorithm median select guha stream approxim algorithm median select metric space chang chang metric median deter minist nonadapt time approxim algorithm con stant chang nonexist determin istic time approxim algorithm metric median paper general result metric median determini tic queri approxim algorithm constant combin result exist upper bound min metric median determinist queri approx alg min metric median determinist time approx alg depart comput scienc engin yuan univers taoyuan taiwan email clchang innov center big data digit converg yuan univers taoyuan taiwan constant determin best approxim ratio determinist queri resp time algorithm previous lower bound determinist algorithm adversari method rough speak proof proceed design adversari adv answer distanc queri deter minist algorithm queri complex output larg averag distanc point answer iii construct distanc function respect point small averag distanc point construct final distanc function item iii metric consist answer vii compar item iii output establish lower bound approxim ratio central construct graph sequenc unseen previous lower bound small set point distanc point answer larg valu execut assign small distanc point point item iii paper organ introduc terminolog prove main theorem thatmetr median determinist queri approxim algorithm constant par ticular sec correspond item iii vii definit finit metric space finit set endow function point approxim median conveni def determinist algorithm denot execut oracl access input input will paper abbrevi output approxim median finit metric space approxim metric median fact constant metric median determinist nonadapt time approxim algorithm weight undirect graph finit vertex set edg set weight function edg unord pair distinct vertic superset interpret simpli denot restrict def degg def def path sequenc satisfi weight length def shortest distanc inf path path note allow posit weight shortest path simpl repeat vertic abbrevi call unweight graph fact well fact undirect graph degg predic true fact geometr seri hard fact common conveni abus notat queri complex approxim ratio constant independ determinist queri algorithm metric median pair assum unord pad dummi queri assum loss general will queri distanc output point halt denot queri complex loss general forbid make queri queri distanc point queri consid larg satisfi defin unweight undirect graph def def def def algorithm adv fig answer queri ith iter loop adv answer ith queri denot construct three unweight undirect graph unweight adv path minimum number edg adv edg precis queri equat receiv ith queri denot find shortest path edg degh degh output min degq answer ith queri figur algorithm adv answer queri lemma proof line adv fig line prove stronger statement mathemat induct equa tion assum induct hypothesi examin case induct hypothesi case line ith iter loop adv run edg line will result complet induct step lemma proof adv ith iter loop run line line edg shortest path lemma complet proof easi consequ lemma lemma averag distanc output point subsect output aadv larg averag distanc point answer adv lemma degh degh proof ith iter loop adv run line prove lemma assum shortest repeat vertic incid edg line complet proof lemma degh proof assum degh prove clear degh inequ exist satisfi degh degh clear inequ ith iter loop adv run line inequ adv equat lemma inequ lemma degh equat impli degg lemma complet proof lemma proof lemma path exact edg consequ path edg fact final recal unweight denot output aadv def lemma analyz sum distanc answer adv point lemma min degq proof lemma min degq min degq min degq exist equat min min forbid repeat queri sequenc distinct point lemma min recal aadv will queri distanc output point halt equat clear degq degq degq degq adv equat degq degq inequ kth smallest element recal distinct point degq inequ complet proof plant point small averag distanc point subsect construct distanc function respect point averag distanc point forbid repeat queri queri distanc point lemma proof consid ith iter loop adv run line edg consequ run yield impli inequ well final equat lemma degh proof fact averag degre averag argument finit nonempti sequenc nonneg number averag fraction number greater equal degh rightmost denomin posit equat lemma complet proof inequ def argmin degq break tie arbitrarili explicit write constant hand side clariti absorb lemma degq proof adv degq degq equat averag argument degq degq degq degq equal fact adv repeat queri final degq induct def def def def lemma hard equat lemma partit distinct degh def equat equat lemma forbid edg loop distinct def def weight undirect graph lemma proof lemma equat bound term geometr seri common ratio initi consequ fact lemma equat inequ complet proof lemma proof lemma equat construct final lemma lemma averag distanc point distanc function min lemma min proof equat lemma complet proof metric consist answer subsect construct metric consist swer lemma will requir output aadv averag distanc point will exact min lemma will forbid exceed detail follow recal unweight treat weight function preserv lemma lemma path exact edg proof equat equat impli distinct equat impli edg weight lemma edg weight final recal edg lemma proof suppos contradict exist endpoint lemma impli case equat equa tion consequ lemma contradict relat case relat contradict equat contradict occur case lemma proof lemma equat lemma complet proof lemma path visit edg vertic proof lemma distinct path visit edg edg equat forc path visit edg total edg equat equat edg weight proceed analyz shortest path clear path simpl lemma shortest path visit exact edg proof shortest simpl assum simpl path visit exact edg decompos edg path visit edg adv equat impli queri distanc point forbidden summari path visit edg lemma edg visit edg simpl contradict equat construct inequ case symmetr revers exchang occurr lemma degq proof equat lemma complet proof lemma distinct proof equat impli degh degh lemma inequ hold equat line adv degh degh inequ relat proof complet mathemat induct lemma shortest path visit exact edg path exact edg proof shortest simpl edg denot consecut clear replac subpath edg yield path edg edg equat path lemma summari edg includ edg consequ path left prove exact edg lemma equival prove note equat construct recal lemma simpl path visit exact edg start end proof equat equat lemma incid edg consequ set edg incid equat lemma easi lemma min degq min degq proof assum exist path inequ trivial hold pick shortest path clear shortest simpl establish inequ exhaust case case visit edg equat edg path lemma equal length unweight graph lemma lemma case equat impli inequ case visit exact edg lemma equat lemma forc hand side inequ equal lemma left hand side inequ equal verifi inequ case visit exact edg contradict lemma occur case visit exact edg lemma unweight impli inequ proceed case equat lemma impli inequ matter case visit three edg clear simpl contradict defin def min degq def min pair unord consequ equat redefin undirect hand side equat remain intact interchang repeat queri equat defin note forbid repeat queri impli nonexist distinct satisfi clear well defin function set unord pair lemma lemma lemma distinct consid pair order argument well defin symmetr proof recal equat equat forbid queri distanc point defin equat equat lemma metric space proof lemma well posit weight undirect graph induc distanc function obey triangl inequ undirect symmetr equat min min verifi inequ exhaust mutual exclus case case lemma impli inequ case relat lemma relat summar prove inequ case replac analysi case case relat inequ share common left hand side deduc inequ inequ fore suffic rela tion lemma proof assum exist path prove shortest path unweight graph number edg lemma number edg equal lemma edg lemma path impli summa rize prove lemma lemma adv answer queri consist lemma min degq proof lemma equat prove equat hand lemma equat impli equat put thing arriv main result theorem metric median determinist queri approxim algorithm constant proof lemma adv adv answer queri consist impli aadv output output lemma metric space relat min lemma recal repeat queri equat lemma lemma lemma fact equal aadv will queri distanc output point halt inequ note deriv valid constant small larg hand side inequ greater inequ forbid common output aadv approxim median note determinist queri algorithm theorem fact determin minimum metric median determinist queri resp time approxim algorithm constant theorem constant min metric median determinist queri approx alg min metric median determinist time approx alg proof easi verifi theorem metric median determini tic queri approxim algorithm constant clear fact metric median determin istic time approxim algorithm analys remain valid queri time exchang time algorithm queri consequ determini tic queri resp time algorithm approxim approxim constant brute forc exact algorithm metric median well time extend theorem case hand corollari deal case corollari metric median determinist queri resp time approxim algorithm proof theorem max hand side inequ inequ remain true larg acknowledg author support ministri scienc technolog taiwan grant optim hidden factor theorem appendix discuss bound theorem hide factor depend def degh lemma distinct proof degh degh equat lemma line adv equat proof complet mathemat induct lemma ith iter loop adv run line consecut vertic proof adv consecut vertic connect edg lemma complet proof lemma proof equat degh clear degh exist satisfi degh degh clear inequ jth iter loop adv run line inequ adv equat lemma lemma complet proof lemma proof clear assum ith iter loop adv run line edg lemma edg prove inequ suffic edg satisfi case equat lemma cons quentli edg contradict case symmetri assum lemma path summari improv lemma equat lemma lemma assum modif paper bound theorem depend max replac inequ replac inequ replac occurr adv replac adv replac occurr lemma proof replac occurr lemma proof replac statement lemma replac occurr proof lemma replac occurr lemma lemma lemma proof well defin equat hold larg item replac occurr lemma proof replac equat replac statement lemma replac occurr second paragraph proof lemma replac statement lemma replac occurr proof lemma replac statement lemma replac statement lemma replac occurr proof lemma replac occurr statement lemma replac equat replac statement lemma replac inequ replac hand side inequ replac numer denomin hand side equal verifi hand side inequ item verifi maxx requir elementari calculus reveal replac occurr equat well proof lemma refer chang determinist sublinear time nonadapt algorithm met ric median select appear theoret comput scienc chang approxim median select metric space theoret comput scienc chang determinist sublinear time approxim metric median select process letter chang lower bound metric median select technic report arxiv guha meyerson mishra motwani clus tere data stream theori practic ieee transact knowledg data engin indyk sublinear time algorithm metric space problem proceed ing annual acm symposium theori comput indyk high dimension comput geometri phd thesi stanford univers kumar sabharw sen linear time approxim scheme cluster problem dimens journal acm mettu plaxton optim time bound approxim cluster machin learn rudin principl mathemat analysi mcgraw hill edit approxim metric median sublinear time process letter 